{"id":4813,"date":"2015-01-26T15:12:33","date_gmt":"2015-01-26T15:12:33","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=4813"},"modified":"2016-04-25T07:31:33","modified_gmt":"2016-04-25T07:31:33","slug":"creating-and-deploying-web-package-during-tfs-build-2013","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/","title":{"rendered":"Creating and Deploying Web Package during TFS Build 2013"},"content":{"rendered":"<p>I have an old post that perform\u00a0the same idea\u00a0with TFS 2010 but as usual there are some differences with TFS 2013:-) <a title=\"Run MSDeploy\" href=\"https:\/\/mohamedradwan.com\/2010\/10\/10\/how-to-run-remote-deploy-with-ms-deploy\/\" target=\"_blank\">How to run remote deploy with MS Deploy<\/a> I tried many ways with\u00a0many blog posts, they are almost the same but none of them worked for me, so I decide to create my own solution and share that include\u00a0the Build Process Template, Of course I needed to install\u00a0MSDeploy (Web Deploy 3.5) on the Build machine, <a href=\"https:\/\/mohamedradwan.com\/2015\/08\/07\/install-missed-web-deployment-agent-service\/\" target=\"_blank\">remember how to install\u00a0Web Deployment Agent Service if it&#8217;s not available<\/a><\/p>\n<h3>Customize the process template as the following:<\/h3>\n<p><span style=\"color: #ff0000;\">Note: I didn&#8217;t include error handling during\u00a0the customization, you may need to do that \ud83d\ude42<\/span><\/p>\n<ul>\n<li>Adding <strong>ConverWorkspaceItem<\/strong> and <strong>If<\/strong> activities, we could add\u00a0<strong>ConverWorkspaceItem<\/strong> part of the <strong>If\u00a0<\/strong>sequence, this even could be better, you can do that too \ud83d\ude42 <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/convertworkspaceitem-and-create-packge-with-deploy\/#main\" rel=\"attachment wp-att-4814\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-4814\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/convertworkspaceitem-and-create-packge-with-deploy.png\" alt=\"ConvertWorkspaceItem and Create packge with Deploy\" width=\"361\" height=\"506\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/convertworkspaceitem-and-create-packge-with-deploy.png 361w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/convertworkspaceitem-and-create-packge-with-deploy-214x300.png 214w\" sizes=\"(max-width: 361px) 100vw, 361px\" \/><\/a><\/li>\n<li>The\u00a0<strong>ConverWorkspaceItem<\/strong> will transform the web application selected in the build definition to a local path <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/converworkspaceitem\/#main\" rel=\"attachment wp-att-4815\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4815\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/converworkspaceitem.png?w=660\" alt=\"ConverWorkspaceItem\" width=\"660\" height=\"266\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/converworkspaceitem.png 843w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/converworkspaceitem-300x121.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/converworkspaceitem-768x310.png 768w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<li>In the <strong>If<\/strong> activity the main 2 activities are, Create Package (<strong>MSBuild <\/strong>activity) and Deploy Package (<strong>InvokeProcess<\/strong> activity) <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/create-and-deploy-package-workflow\/#main\" rel=\"attachment wp-att-4816\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4816\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-and-deploy-package-workflow.png?w=660\" alt=\"Create and Deploy package workflow\" width=\"660\" height=\"774\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-and-deploy-package-workflow.png 926w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-and-deploy-package-workflow-256x300.png 256w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-and-deploy-package-workflow-768x901.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-and-deploy-package-workflow-873x1024.png 873w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<li>The <strong>Create Package<\/strong> activity will be as the following:\n<ul>\n<li>Configuration &#8212;&gt; the configuration that entered in the build definition<\/li>\n<li>CommandLineArgument &#8212;-&gt;\u00a0\u00a0\/t:build;publish<\/li>\n<li>Project &#8212;-&gt; the project that transformed from <strong>ConverWorkspaceItem<\/strong> activity<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<p style=\"padding-left: 30px;\"><a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/create-package-msbuild\/#main\" rel=\"attachment wp-att-4817\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4817\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-package-msbuild.png?w=660\" alt=\"Create Package - MSBuild\" width=\"660\" height=\"336\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-package-msbuild.png 1280w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-package-msbuild-300x153.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-package-msbuild-768x391.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-package-msbuild-1024x522.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<ul>\n<li>The Deploy Web Package (InvokeProcess)\u00a0activity will be as the following image: <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/deploy-web-package-invokeprocess\/#main\" rel=\"attachment wp-att-4818\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4818\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/deploy-web-package-invokeprocess.png?w=660\" alt=\"Deploy Web Package InvokeProcess\" width=\"660\" height=\"396\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/deploy-web-package-invokeprocess.png 1238w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/deploy-web-package-invokeprocess-300x180.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/deploy-web-package-invokeprocess-768x461.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/deploy-web-package-invokeprocess-1024x615.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<li>The created package on the working directory on the build agent will be as the following: <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/web-package\/#main\" rel=\"attachment wp-att-4820\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4820\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/web-package.png?w=660\" alt=\"Web Package\" width=\"660\" height=\"321\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/web-package.png 1054w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/web-package-300x146.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/web-package-768x374.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/web-package-1024x498.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<li>The Deployment section on the build definition will be as the following: <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/dev_build_deploy\/#main\" rel=\"attachment wp-att-4821\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4821\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/dev_build_deploy.png?w=660\" alt=\"Dev_Build_Deploy\" width=\"660\" height=\"195\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/dev_build_deploy.png 1680w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/dev_build_deploy-300x89.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/dev_build_deploy-768x227.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/dev_build_deploy-1024x302.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<li>How to test the create deployment file on the build agent <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/run-file-deploy-cmd\/#main\" rel=\"attachment wp-att-4822\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4822\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-file-deploy-cmd.png?w=660\" alt=\"Run file.Deploy.cmd\" width=\"660\" height=\"63\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-file-deploy-cmd.png 797w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-file-deploy-cmd-300x29.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-file-deploy-cmd-768x73.png 768w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<li>How to publish without a package using a publish profile <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/run-msbuild-with-publish-profile\/#main\" rel=\"attachment wp-att-4823\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4823\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-msbuild-with-publish-profile.png?w=660\" alt=\"Run MSBuild with publish profile\" width=\"660\" height=\"56\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-msbuild-with-publish-profile.png 805w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-msbuild-with-publish-profile-300x25.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/run-msbuild-with-publish-profile-768x65.png 768w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<li>How to add a parameters value inside the parameter file.xml that created with the package <a href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/create-web-package-and-add-one-paramter-in-the-file\/#main\" rel=\"attachment wp-att-4824\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4824\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-web-package-and-add-one-paramter-in-the-file.png?w=660\" alt=\"Create Web package and add one paramter in the file\" width=\"660\" height=\"39\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-web-package-and-add-one-paramter-in-the-file.png 808w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-web-package-and-add-one-paramter-in-the-file-300x18.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/create-web-package-and-add-one-paramter-in-the-file-768x46.png 768w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/li>\n<\/ul>\n<p><a title=\"Download Process Template\" href=\"https:\/\/onedrive.live.com\/redir?resid=4BCAA16D27B46600!22426&amp;authkey=!AAwD26mHv7T1OrQ&amp;ithint=file%2czip\" target=\"_blank\"><strong>Download the process Template<\/strong><\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>I have an old post that perform\u00a0the same idea\u00a0with TFS &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2015\/01\/26\/creating-and-deploying-web-package-during-tfs-build-2013\/\"> <span class=\"screen-reader-text\">Creating and Deploying Web Package during TFS Build 2013<\/span> Read More<\/a><\/p>\n","protected":false},"author":1,"featured_media":5509,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,17,28,29,43],"tags":[],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4813"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=4813"}],"version-history":[{"count":1,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4813\/revisions"}],"predecessor-version":[{"id":5510,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4813\/revisions\/5510"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media\/5509"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=4813"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=4813"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=4813"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}