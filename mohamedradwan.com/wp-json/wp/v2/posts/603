{"id":603,"date":"2010-10-29T08:53:43","date_gmt":"2010-10-29T08:53:43","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=369"},"modified":"2017-08-30T13:18:15","modified_gmt":"2017-08-30T13:18:15","slug":"how-to-recreate-the-data-warehosue-and-the-analysis-service-for-tfs","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2010\/10\/29\/how-to-recreate-the-data-warehosue-and-the-analysis-service-for-tfs\/","title":{"rendered":"How to recreate the Data warehosue and the Analysis service for TFS?"},"content":{"rendered":"<hr \/>\n<p>2 days ago I have a problem seeing my reports on the TFS and after the invistigation I solve part of the problem which is how to recreate the data warehouse and the analysis service for the TFS, my problem was that when you open any reports you find the following error<\/p>\n<blockquote><p>Query execution failed for dataset &#8216;dsIteration&#8217;. (rsErrorExecutingCommand) Get Online Help<br \/>\nErrors in the metadata manager. An error occurred when loading the Team System cube, from the file, &#8216;\\?C:Program FilesMicrosoft SQL ServerMSAS10.MSSQLSERVEROLAPDataTfs_Analysis.0.dbTeam System.636.cub.xml&#8217;. Errors in the metadata manager. An error occurred when loading the Work Item dimension, from the file, &#8216;\\?C:Program FilesMicrosoft SQL ServerMSAS10.MSSQLSERVEROLAPDataTfs_Analysis.0.dbvDimWorkItemOverlay.187.dim.xml&#8217;. File system error: The following file is corrupted: Physical file: \\?C:Program FilesMicrosoft SQL ServerMSAS10.MSSQLSERVEROLAPDataTfs_Analysis.0.dbvDimWorkItemOverlay.147.dim187.Hierarchy.Area1.sstore. Logical file<\/p><\/blockquote>\n<p>And when I go to the analysis service and try to see it, it gives me the following error<\/p>\n<blockquote><p>File system error: The following file is corrupted: Physical file: \\?C:Program FilesMicrosoft SQL ServerMSAS10.MSSQLSERVEROLAPDataTfs_Analysis.0.dbvDimWorkItemOverlay.147.dim187.Hierarchy.Area1.sstore. Logical file .<br \/>\nErrors in the metadata manager. An error occurred when loading the Work Item dimension, from the file, &#8216;\\?C:Program FilesMicrosoft SQL ServerMSAS10.MSSQLSERVEROLAPDataTfs_Analysis.0.dbvDimWorkItemOverlay.187.dim.xml&#8217;.<br \/>\nErrors in the metadata manager. An error occurred when loading the Team System cube, from the file, &#8216;\\?C:Program FilesMicrosoft SQL ServerMSAS10.MSSQLSERVEROLAPDataTfs_Analysis.0.dbTeam System.636.cub.xml&#8217;.<br \/>\n(Microsoft.AnalysisServices)<\/p><\/blockquote>\n<p>I can&#8217;t even right-click and see the property of the Analysis data<\/p>\n<p>So here the solution to this problem<\/p>\n<ul>\n<li>Stop the analysis service and delete the Tfs_Analysis.0.db folder<\/li>\n<\/ul>\n<figure id=\"attachment_7217\" aria-describedby=\"caption-attachment-7217\" style=\"width: 604px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Stop-analysis-service.png\"><img loading=\"lazy\" decoding=\"async\" class=\"size-full wp-image-7217\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Stop-analysis-service.png\" alt=\"Stop the analysis service\" width=\"604\" height=\"552\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Stop-analysis-service.png 604w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Stop-analysis-service-300x274.png 300w\" sizes=\"(max-width: 604px) 100vw, 604px\" \/><\/a><figcaption id=\"caption-attachment-7217\" class=\"wp-caption-text\">Stop the analysis service<\/figcaption><\/figure>\n<figure id=\"attachment_7218\" aria-describedby=\"caption-attachment-7218\" style=\"width: 601px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Analysis-service-data-folder.png\"><img loading=\"lazy\" decoding=\"async\" class=\" wp-image-7218\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Analysis-service-data-folder.png\" alt=\"Delete Tfs_Analsysis.0.db\" width=\"601\" height=\"446\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Analysis-service-data-folder.png 808w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Analysis-service-data-folder-300x223.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Analysis-service-data-folder-768x570.png 768w\" sizes=\"(max-width: 601px) 100vw, 601px\" \/><\/a><figcaption id=\"caption-attachment-7218\" class=\"wp-caption-text\">Delete Tfs_Analsysis.0.db<\/figcaption><\/figure>\n<ul>\n<li>Go the report on the Team foundation administration console and edit the property, you can create new names if you want for the data warehouse or the analysis service if you want but you must use the appropriate service account that you used when you first configure and install the system<\/li>\n<\/ul>\n<figure id=\"attachment_7214\" aria-describedby=\"caption-attachment-7214\" style=\"width: 610px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Edit-report-configuration.png\"><img loading=\"lazy\" decoding=\"async\" class=\" wp-image-7214\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Edit-report-configuration.png\" alt=\"Edit the report tab\" width=\"610\" height=\"437\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Edit-report-configuration.png 795w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Edit-report-configuration-300x215.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Edit-report-configuration-768x551.png 768w\" sizes=\"(max-width: 610px) 100vw, 610px\" \/><\/a><figcaption id=\"caption-attachment-7214\" class=\"wp-caption-text\">Edit the report tab<\/figcaption><\/figure>\n<ul>\n<li>Start rebuild the data warehouse and the analysis service, this command will rebuild them again from the TFS DB<\/li>\n<\/ul>\n<figure id=\"attachment_7216\" aria-describedby=\"caption-attachment-7216\" style=\"width: 611px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Rebuild-the-data-warehouse-and-the-reports.png\"><img loading=\"lazy\" decoding=\"async\" class=\" wp-image-7216\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Rebuild-the-data-warehouse-and-the-reports.png\" alt=\"Rebuild the data warehouse and analysis service\" width=\"611\" height=\"418\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Rebuild-the-data-warehouse-and-the-reports.png 787w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Rebuild-the-data-warehouse-and-the-reports-300x205.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Rebuild-the-data-warehouse-and-the-reports-768x525.png 768w\" sizes=\"(max-width: 611px) 100vw, 611px\" \/><\/a><figcaption id=\"caption-attachment-7216\" class=\"wp-caption-text\">Rebuild the data warehouse and analysis service<\/figcaption><\/figure>\n<ul>\n<li>Go to the Team Project collection and choose your collection and click report folder<\/li>\n<\/ul>\n<figure id=\"attachment_7219\" aria-describedby=\"caption-attachment-7219\" style=\"width: 613px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Assign-report-folder.png\"><img loading=\"lazy\" decoding=\"async\" class=\" wp-image-7219\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Assign-report-folder.png\" alt=\"Create Report folder\" width=\"613\" height=\"418\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Assign-report-folder.png 791w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Assign-report-folder-300x204.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Assign-report-folder-768x523.png 768w\" sizes=\"(max-width: 613px) 100vw, 613px\" \/><\/a><figcaption id=\"caption-attachment-7219\" class=\"wp-caption-text\">Create Report folder<\/figcaption><\/figure>\n<ul>\n<li>Enter the name of the folder that will hold your reports<\/li>\n<\/ul>\n<figure id=\"attachment_7215\" aria-describedby=\"caption-attachment-7215\" style=\"width: 616px\" class=\"wp-caption alignnone\"><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Naming-Report-folder.png\"><img loading=\"lazy\" decoding=\"async\" class=\" wp-image-7215\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Naming-Report-folder.png\" alt=\"Give the report folder name\" width=\"616\" height=\"440\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Naming-Report-folder.png 795w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Naming-Report-folder-300x214.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/08\/Naming-Report-folder-768x549.png 768w\" sizes=\"(max-width: 616px) 100vw, 616px\" \/><\/a><figcaption id=\"caption-attachment-7215\" class=\"wp-caption-text\">Give the report folder name<\/figcaption><\/figure>\n<p><span style=\"color: #0000ff;\">************Updated 27 August 2012 *************<\/span><\/p>\n<p>If you want to see the reports immediately, you will need to process the\u00a0Data-warehouse\u00a0and the Analysis service from the web services, or just leave it when the schedule job is running, for the step-by-step on how to process this manualy just see the following post.<\/p>\n<p><a title=\"Process the TFS Data Warehouse and Analysis Service manually\" href=\"https:\/\/mohamedradwan.com\/2011\/07\/11\/process-the-tfs-data-warehouse-manually\/\" target=\"_blank\">Process the TFS Data Warehouse and Analysis Service manually<\/a><\/p>\n<p>Or see the step-by-step video<\/p>\n<div style=\"text-algn:left\"><span style=\"display:inline-block;text-align:center;\"><iframe allow=\"autoplay\" class=\"youtube_embed_iframe\"    allowFullScreen=\"true\" style=\"width:640px; height:385px\" src=\"https:\/\/www.youtube.com\/embed\/vqMv9yu_kt8?autoplay=0&theme=dark&loop=0&fs=1&showinfo=1&modestbranding=0&iv_load_policy=1&color=red&autohide=1&disablekb=0&enablejsapi=1&version=3\"><\/iframe><\/span><\/div>\n<p><span style=\"color: #0000ff;\">************End of the Update*******<\/span><\/p>\n","protected":false},"excerpt":{"rendered":"<p>2 days ago I have a problem seeing my reports &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2010\/10\/29\/how-to-recreate-the-data-warehosue-and-the-analysis-service-for-tfs\/\"> <span class=\"screen-reader-text\">How to recreate the Data warehosue and the Analysis service for TFS?<\/span> Read More<\/a><\/p>\n","protected":false},"author":2,"featured_media":7217,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,38,47],"tags":[],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/603"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=603"}],"version-history":[{"count":2,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/603\/revisions"}],"predecessor-version":[{"id":7221,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/603\/revisions\/7221"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media\/7217"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=603"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=603"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=603"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}