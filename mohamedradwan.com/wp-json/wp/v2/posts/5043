{"id":5043,"date":"2015-09-21T22:43:45","date_gmt":"2015-09-21T22:43:45","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=5043"},"modified":"2019-07-16T17:28:49","modified_gmt":"2019-07-16T17:28:49","slug":"how-to-upload-a-virtual-machine-to-the-cloud-for-microsoft-azure","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2015\/09\/21\/how-to-upload-a-virtual-machine-to-the-cloud-for-microsoft-azure\/","title":{"rendered":"How to Upload a Virtual Machine to the Cloud for Microsoft Azure"},"content":{"rendered":"<p>Recently, I worked with <a href=\"https:\/\/azure.microsoft.com\/en-us\/\" target=\"_blank\" rel=\"noopener noreferrer\">Microsoft Azure<\/a> to provide better solutions using <a href=\"https:\/\/www.visualstudio.com\/?Wt.mc_id=DX_MVP4039889\" target=\"_blank\" rel=\"noopener noreferrer\">Visual Studio 2015 and Team Foundation Server 2015<\/a> and <a href=\"https:\/\/www.visualstudio.com\/?Wt.mc_id=DX_MVP4039889\" target=\"_blank\" rel=\"noopener noreferrer\">Visual Studio Online<\/a>, here&#8230;I will just share my experience about that through a new series which introduce different and random features for <a href=\"https:\/\/azure.microsoft.com\/en-us\/\" target=\"_blank\" rel=\"noopener noreferrer\">Microsoft Azure<\/a><\/p>\n<ol>\n<li><a href=\"https:\/\/mohamedradwan.com\/2015\/09\/21\/how-to-upload-a-virtual-machine-to-the-cloud-for-microsoft-azure\/\" target=\"_blank\" rel=\"noopener noreferrer\">How to Upload a Virtual Machine to the Cloud for Microsoft Azure<\/a><\/li>\n<\/ol>\n<p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;<\/p>\n<h2><strong>How to Upload a Virtual Machine to the Cloud in Microsoft Azure<\/strong><\/h2>\n<div style=\"text-algn:left\"><span style=\"display:inline-block;text-align:center;\"><iframe allow=\"autoplay\" class=\"youtube_embed_iframe\"    allowFullScreen=\"true\" style=\"width:640px; height:385px\" src=\"https:\/\/www.youtube.com\/embed\/1A6b2Gq4j58?autoplay=0&theme=dark&loop=0&fs=1&showinfo=1&modestbranding=0&iv_load_policy=1&color=red&autohide=1&disablekb=0&enablejsapi=1&version=3\"><\/iframe><\/span><\/div>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468860\">Introduction<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468861\">\u00a01: Check-out the Container created in the Storage<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468862\">\u00a02: Install Azure-PowerShell<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468863\">3: Upload .Vhd File<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468864\">\u00a04: Check-out uploaded .Vhd File in the Container<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468865\">\u00a05: Create a Disk from a VHD<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468866\">\u00a06: Create a New Virtual Machine using From Gallery Method<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468867\">\u00a07: Connect to Windows Azure Virtual Machine<\/a><\/h4>\n<h4><a href=\"https:\/\/d.docs.live.net\/4bcaa16d27b46600\/Cloud\/TFS\/My Tasks\/2-Step by Step Tutorial for Blog Post\/Task Role Model\/#_Toc443468868\">Conclusion<\/a><\/h4>\n<h2><a name=\"_Toc443468860\"><\/a>Introduction<\/h2>\n<p>This post will describe how to create and manage a <b>virtual machine<\/b> (<b>VM<\/b>) in <b>Microsoft Azure<\/b>. You will see step by step on how to upload your local <b>virtual machine<\/b> to <b>Microsoft Azure Cloud<\/b> and create a fully functional <b>virtual machine<\/b> on the <b>cloud<\/b>.<\/p>\n<p>&nbsp;<\/p>\n<p class=\"green\"><span class=\"ion-info\">More Info<\/span>If you would like to learn more about using different environments during the realization of a software system \u2013 have a look at the post <a href=\"https:\/\/mohamedradwan.com\/2018\/02\/22\/azure-devtest-labs-updates\/\">Azure DevTest Labs Updates<\/a>. <a href=\"https:\/\/azure.microsoft.com\/en-us\/services\/devtest-lab\/\">Azure DevTest Labs<\/a> is a service provided by Microsoft Azure which provides functionality for managing environments that contain <a href=\"https:\/\/docs.microsoft.com\/en-us\/azure\/virtual-machines\/\">Azure Virtual Machines<\/a>. The post, mentioned above, describes both the core capabilities of DevTest Labs and the new features of the service (as of February, 2018).<\/p>\n<p>&nbsp;<\/p>\n<h4><a name=\"_Toc443468861\"><\/a>Step 1: Check-out the Container created in the Storage<\/h4>\n<p>In order to upload the <b>Virtual Machine<\/b> you need to have a container inside the storage. If you don\u2019t have that already you would need to create one.<\/p>\n<p>1. From the navigation pane, click on <b>Storage<\/b>.<\/p>\n<p>2. Click on the storage created &lt;<b>vmsmra<\/b>&gt; inside which you have created container.<\/p>\n<p>3. Click on the container created for your uploaded VHDs &lt;<b>uploadedvhds<\/b>&gt;.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/05\/img001.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"1-Container created in the storage to upload virtual machine\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/05\/img001.jpg\" alt=\"1-Container created in the storage to upload virtual machine\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"gray\">You can see <strong><a href=\"https:\/\/youtu.be\/W9ImzKuQGQ8 \">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">If you would like to see how to create Windows virtual machine on Azure, I will use Windows 10 machine, connect remotely to it using remote desktop, installing Docker for windows in Linux mode, we will see how to verify that Docker installation succeeded and fix some errors, we will also pull docker hello-world image from Docker-Hub and running a container from it and also pull a SQL Express image as well as nginx, we will also run many containers from the same images and see how we can verify that and many others.<\/p>\n<p>&nbsp;<\/p>\n<h4><a name=\"_Toc443468862\"><\/a>Step 2: Install Azure-Powershell<\/h4>\n<p>You would need a machine to upload <b>.vhd file<\/b>. In this case we will use <b>Azure PowerShell<\/b>. If you don\u2019t have <b>Azure PowerShell<\/b>, you will need to download it.<\/p>\n<p>1. Use the direct link to download <b>.msi<\/b> file for <b>Azure-PowerShell<\/b>.<\/p>\n<p><a href=\"https:\/\/go.microsoft.com\/fwlink\/?LinkID=279888&amp;clcid=0x409\">https:\/\/go.microsoft.com\/fwlink\/?LinkID=279888&amp;clcid=0x409<\/a><b><\/b><\/p>\n<p><b>Note<\/b>: You can also download it from <b>GitHub<\/b>.<\/p>\n<p><a href=\"https:\/\/github.com\/Azure\/azure-powershell\">https:\/\/github.com\/Azure\/azure-powershell<\/a><b><\/b><\/p>\n<p>2. Click on the downloaded <b>.msi file<\/b> to install <b>Azure-PowerShell<\/b>.<\/p>\n<p>3. Click on the <b>License Agreement<\/b> check box.<\/p>\n<p>4. Click on <b>Install<\/b>.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/2-install-azure-powershell-machine-to-upload-vhd-file.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"2-Install Azure Powershell (machine) to upload vhd file\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/2-install-azure-powershell-machine-to-upload-vhd-file_thumb.jpg\" alt=\"2-Install Azure Powershell (machine) to upload vhd file\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"blue\"><span class=\"ion-tip\">Tip <\/span>If you would like to know more about Azure deployments<\/h3>\n<p class=\"blue\">Have a look at the post <a href=\"https:\/\/mohamedradwan.com\/2018\/02\/12\/how-to-deploy-to-azure-using-team-services-release-management\/\">How to deploy to Azure using Team Services Release Management<\/a>. The post describes how Azure deployments are made easy by using Visual Studio Team Services (VSTS) Release Management. You will see a step-by-step tutorial on how to configure and deploy to Azure in Release Management, and, moreover, how to configure an end-to-end pipeline for deploying applications on Azure.<\/p>\n<p>&nbsp;<\/p>\n<h4><a name=\"_Toc443468863\"><\/a>Step 3: Upload .Vhd File<\/h4>\n<p>When you upload <b>.vhd file<\/b>, you can place it anywhere within your blob storage.<\/p>\n<p>1. Run <b>Microsoft Azure PowerShell<\/b>.<\/p>\n<p>2. <b>PowerShell console<\/b> will open up. Type \u2018<b>Add-AzureAccount<\/b>\u2019 and press enter.<\/p>\n<p><b>Note<\/b>: Type \u2018<b>help azure<\/b>\u2019 to get all the cmdlets.<\/p>\n<p>3. You will be prompted to sign in to your Microsoft account. Type your email address and password then press enter.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/3-upload-vhd-file-by-running-microsoft-azure-powershell.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"3-Upload vhd file by running microsoft azure powershell\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/3-upload-vhd-file-by-running-microsoft-azure-powershell_thumb.jpg\" alt=\"3-Upload vhd file by running microsoft azure powershell\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"gray\">You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=C0ecnvmdAuQ\">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">if you would like to find more information about how to create Linux machine on Azure, we will select Ubuntu server and remote connect to it using Git bash and PuTTY, and we will see how to test that our connection is established using sudo command<\/p>\n<p>&nbsp;<\/p>\n<p>4. Type a command with the following syntax and press enter:<\/p>\n<p><b>Add-AzureVhd [ -Destination ] &lt;url&gt; [ -LocalFilePath ] &lt;FileInfo&gt;<\/b><\/p>\n<p>Where:<\/p>\n<p>\u00b7 <b>Add-AzureVhd<\/b> cmdlet allows you to upload on-premises virtual hard disks (in .vhd file format) to a blob storage account as fixed virtual hard disks.<b><\/b><\/p>\n<p>\u00b7 <b>-Destination &lt;url&gt;<\/b> specifies the URL of a blob in Blob Storage. The parameter supports SAS URL, although patching scenarios destination cannot be an SAS URL.<b><\/b><\/p>\n<p>\u00b7 <b>-LocalFilePath &lt;FileInfo&gt;<\/b> specifies the path to the local .vhd file.<b><\/b><\/p>\n<p>In our case we will type:<\/p>\n<p><b>Add-AzureVhd \u2013Destination <\/b><a href=\"https:\/\/vmsmra.blob.core.windows.net\/uploadedvhds\/vsalm.vhd\">https:\/\/vmsmra.blob.core.windows.net\/uploadedvhds\/vsalm.vhd<\/a><b> -LocalFilePath \u201cE:VisualStudio2013 Update3 ALMWMIv2Virtual Hard Disks2012R2Eval.vhd\u201d<\/b><\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/4-upload-vhd-file-by-running-microsoft-azure-powershell-2.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"4-Upload vhd file by running microsoft azure powershell (2)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/4-upload-vhd-file-by-running-microsoft-azure-powershell-2_thumb.jpg\" alt=\"4-Upload vhd file by running microsoft azure powershell (2)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"green\"><span class=\"ion-info\">More Info<\/span>If you would like to know more about this new developer service available on the <a href=\"https:\/\/azure.microsoft.com\/en-gb\/\">Azure<\/a> platform, you can have a look at the following post; <a href=\"https:\/\/mohamedradwan.com\/2016\/07\/12\/more-about-azure-devtest-labs\/\">More about Azure DevTest Labs<\/a>. If you prefer a more concise description of the same feature,<\/p>\n<h3 class=\"green\"><a href=\"https:\/\/mohamedradwan.com\/2016\/06\/29\/quick-overview-of-azure-devtest-labs\/\">have a look at Quick overview of Azure DevTest Labs<\/a>.<\/h3>\n<p>&nbsp;<\/p>\n<p>5. It would calculate <b>MD5 Hash<\/b>, <b>detect empty blocks<\/b>then <b>upload vhd file<\/b>. The total elapsed time can be around <b>1.5 hours<\/b>, of course it depends on your internet speed and the size of the VHD.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/5-upload-vhd-file-by-running-microsoft-azure-powershell-3.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"5-Upload vhd file by running microsoft azure powershell (3)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/5-upload-vhd-file-by-running-microsoft-azure-powershell-3_thumb.jpg\" alt=\"5-Upload vhd file by running microsoft azure powershell (3)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip<\/span> If you would like to learn more about using the <a href=\"https:\/\/docs.microsoft.com\/en-us\/vsts\/build-release\/concepts\/definitions\/build\/variables?tabs=batch\">Build Variables<\/a> in <a href=\"https:\/\/www.visualstudio.com\/team-services\/\">VSTS<\/a> and Release Management, &#8211; have a look at the following post: <a href=\"https:\/\/mohamedradwan.com\/2018\/03\/11\/vsts-build-variables-and-echo\/\">VSTS Build variables and Echo<\/a>. The post describes how to see the output at any point of time, while automating a process, through setting variables and displaying them during the build.<\/p>\n<p>&nbsp;<\/p>\n<h4><a name=\"_Toc443468864\"><\/a>Step 4: Check-out uploaded .Vhd File in the Container<\/h4>\n<p>The uploaded <b>.vhd file <\/b>would be saved in the designated container inside the storage.<\/p>\n<p>1. From the navigation pane, click on <b>Storage<\/b>.<\/p>\n<p>2. Click on the storage &lt;<b>vmsmra<\/b>&gt;.<\/p>\n<p>3. Click on the container &lt;<b>uploadedvhds<\/b>&gt; to view uploaded VHDs.<\/p>\n<p>4. You can now view your uploaded vhd &lt;<b>vsalm.vhd<\/b>&gt;.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/6-uploaded-vhd-in-the-container.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"6-Uploaded vhd in the container\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/6-uploaded-vhd-in-the-container_thumb.jpg\" alt=\"6-Uploaded vhd in the container\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"gray\">You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=X13AdWYC2KI \">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">If you would like to find more information about the story behind containers and what drives or the needs for it. We will know why companies moved from traditional solution architecture to Microservices and how this put containers as the perfect solution for running them. We will get quick intro to clear some definitions, tools and keywords related to this ecosystem.\u00a0 For example, we will understand what is the different between VM, Container and Hyper-V Container.<\/p>\n<p class=\"gray\">Why we would prefer container over VM and when the VM is better. we will understand the different between container and image and know the life cycle of creating a new image and why I do that, like adding more layers to the base image. push that to container images registry on the cloud, then pull that from the registry to anywhere to have a new container. We will understand also different technologies and services around container, like Docker, Docker Swarm, Kubernetes, Azure Container Services (ACS), Azure Container Registry etc.<br \/>\nWe will see how to create Linux machine on Azure, remote connect to it using Git bash and PuTTY, how to install Docker, display all the images that exist on the machine, pull new image from Docker Hub, run and stop a container, display running containers and many others, we will see also the same steps on Windows with Docker.<\/p>\n<p>&nbsp;<\/p>\n<h4><a name=\"_Toc443468865\"><\/a>Step 5: Create a Disk from a VHD<\/h4>\n<p>After you transfer <b>.vhd file<\/b> from your local machine to the container in <b>Microsoft Azure<\/b>, you must create a <b>disk<\/b>.<\/p>\n<p>1. From the <b>Azure classic portal<\/b>, under <b>All Items<\/b>, click on <b>Virtual Machines<\/b>.<\/p>\n<p>2. Under <b>Virtual Machines<\/b>, click on <b>Disks<\/b>.<\/p>\n<p>3. From the command bar at the bottom of the Portal screen, click on <b>Create<\/b>.<\/p>\n<p>4. A pop up window &lt;<b>Create a disk from a VHD<\/b>&gt; will be displayed. In <b>Name<\/b> field, type a unique disk name. In this case we have named it <b>VSALMDisk<\/b>.<\/p>\n<p>5. In <b>VHD URL<\/b> field, click on the folder icon.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/7-create-a-disk-from-vhd-from-azure-classic-portal.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"7-Create a disk from vhd from Azure classic portal\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/7-create-a-disk-from-vhd-from-azure-classic-portal_thumb.jpg\" alt=\"7-Create a disk from vhd from Azure classic portal\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"green\"><span class=\"ion-info\">More Info<\/span>If you are interested in developing a <a href=\"https:\/\/docs.microsoft.com\/en-us\/vsts\/extend\/overview\">Visual Studio Team Service extension<\/a>, and you would like to know and to follow the best practices for DevOps, Continuous Integration and Continuous Delivery, &#8211; have a look at the following post, <a href=\"https:\/\/mohamedradwan.com\/2017\/12\/29\/develop-vsts-extension-and-configure-ci-continuous-integration-and-cd-continuous-delivery-pipeline\/\">Develop VSTS Extension and Configure CI (Continuous Integration) and CD (Continuous Delivery Pipeline)<\/a>.<\/p>\n<p>&nbsp;<\/p>\n<p>6. Browse to the container location. Click on <b>vmsmra<\/b>.<\/p>\n<p>7. From the containers within <b>vmsmra<\/b>, click on <b>uploadedvhds<\/b>.<\/p>\n<p>8. Click on uploaded vhd &lt;<b>vsalm.vhd<\/b>&gt;.<\/p>\n<p>9. Click on <b>Open<\/b>.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/8-create-a-disk-from-vhd-from-azure-classic-portal-2.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"8-Create a disk from vhd from Azure classic portal (2)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/8-create-a-disk-from-vhd-from-azure-classic-portal-2_thumb.jpg\" alt=\"8-Create a disk from vhd from Azure classic portal (2)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"gray\">You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=rEJMBwuKY6Y\">this video<\/a><\/strong>, if you would like to find more information about an introduction and overview of a series of videos about Microsoft Dynamics development, including the overview of the Microsoft Dynamics CRM itself, installing Microsoft Dynamics 2016 on Azure VM and how to upgrade to Dynamics 365, how to develop Dynamics CRM plugin. How to debug Microsoft Dynamics CRM project, create and run unit tests using FakeXRMEasy and Microsoft Fakes, JavaScript and front end unit tests as well code quality using JSHint, also how to create and run UI and how to integrate all the practices as part of the CI\/CD (Continuous Integration and Continuous Delivery).<\/p>\n<p>&nbsp;<\/p>\n<h2>10. Click on <b>The VHD contains an operating system<\/b> check box.<\/h2>\n<p><b>Note<\/b>: In <b>Operating System Family<\/b>, select your <b>OS<\/b>. In this case we will select <b>Windows<\/b>.<\/p>\n<p>11. Click on check mark.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/9-create-a-disk-from-vhd-from-azure-classic-portal-3.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"9-Create a disk from vhd from Azure classic portal (3)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/9-create-a-disk-from-vhd-from-azure-classic-portal-3_thumb.jpg\" alt=\"9-Create a disk from vhd from Azure classic portal (3)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>12. After few minutes, it will show up the notification that the <b>disk has been successfully created<\/b>.<\/p>\n<p>13. You can then see the disk created &lt;<b>VSALMDisk<\/b>&gt; in the list of disks.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/10-create-a-disk-from-vhd-from-azure-classic-portal-4.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"10-Create a disk from vhd from Azure classic portal (4)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/10-create-a-disk-from-vhd-from-azure-classic-portal-4_thumb.jpg\" alt=\"10-Create a disk from vhd from Azure classic portal (4)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"green\"><span class=\"ion-info\">More Info<\/span>You can find more information about <strong>DevOps<\/strong> in the following post: <a href=\"https:\/\/mohamedradwan.com\/2016\/10\/31\/devops-the-three-stage-conversation-people-process-products\/\">DevOps: The Three Stage Conversation &#8211; People, Process, Products<\/a> which describes the basic principles of <strong>DevOps<\/strong>. This post will be especially helpful to those for whom DevOps is still a new concept. If you prefer a deeper view on this topic, have a look at the following guide: <a href=\"https:\/\/mohamedradwan.com\/2017\/11\/03\/published-a-quick-guide-about-basic-principles-of-devops\/\">quick guide about Basic Principles of DevOps<\/a>, which presents an overview of <a href=\"https:\/\/www.visualstudio.com\/vs\/devops\/\">DevOps <\/a>process and practices, describing \u201cthe big picture\u201d, while still maintaining the high level of detail.<\/p>\n<p>&nbsp;<\/p>\n<h4><a name=\"_Toc443468866\"><\/a>Step 6: Create a New Virtual Machine using From Gallery Method<\/h4>\n<p>The <b>Microsoft Azure Portal<\/b> provides two basic methods to create a new <b>virtual machine<\/b>: <b>Quick Create<\/b> and <b>From Gallery<\/b>. In this case we will use <b>From Gallery Method<\/b>.<\/p>\n<p>1. Under <b>Virtual Machines<\/b>, click on <b>Instances<\/b>.<\/p>\n<p>2. From the command bar at the bottom of the Portal screen, click on <b>New<\/b>.<\/p>\n<p>3. A pop up window will open up. Under <b>Virtual Machine<\/b> options, click on <b>From Gallery<\/b>.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/11-create-virtual-machine-from-microsoft-azure-portal.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"11-Create virtual machine from microsoft azure portal\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/11-create-virtual-machine-from-microsoft-azure-portal_thumb.jpg\" alt=\"11-Create virtual machine from microsoft azure portal\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>4. On the <b>Choose an Image<\/b> page, click on <b>My Disks<\/b>.<\/p>\n<p>5. Click on the disk you created &lt;<b>VSALMDisk<\/b>&gt;.<\/p>\n<p>6. Click on proceed arrow icon.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/12-create-virtual-machine-from-microsoft-azure-portal-and-choose-an-image.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"12-Create virtual machine from microsoft azure portal and choose an image\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/12-create-virtual-machine-from-microsoft-azure-portal-and-choose-an-image_thumb.jpg\" alt=\"12-Create virtual machine from microsoft azure portal and choose an image\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"gray\">You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=EGpw9fI-gIY\">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">if you would like to find more information about how to install Microsoft Dynamics CRM 365 on Azure VM. Presented installation using SQL 2014 and SQL 2016, on several versions of Windows Server (Windows Server 2012, Windows Server 2012 R2 and Windows Server 2016). Installing Domain Controller, explained all possible issues, which you may face with during the installation, like incompatible Domain Controller Windows Server 2012 with SQL Server on the same machine, Windows Search Service is not started automatically, installing Dynamics CRM reporting extension, which was needed to create additional Dynamics Organization and many other notes.<\/p>\n<p>&nbsp;<\/p>\n<p>7. On the first <b>Virtual Machine Configuration<\/b> page, specify the name for the <b>virtual machine<\/b> in <b>Virtual Machine Name<\/b> field. In this case we have used <b>VSALM-mra<\/b>.<\/p>\n<p><b>Note<\/b>: In <b>Tier<\/b> field, make sure <b>Standard<\/b> is selected.<\/p>\n<p>8. Under the <b>Size<\/b> field, select <b>D2 (2 cores, 7 GB memory).<\/b><\/p>\n<p>9. Click on proceed arrow icon.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/13-create-virtual-machine-from-microsoft-azure-portal-and-set-virtual-machine-configuration.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"13-Create virtual machine from microsoft azure portal and set virtual machine configuration\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/13-create-virtual-machine-from-microsoft-azure-portal-and-set-virtual-machine-configuration_thumb.jpg\" alt=\"13-Create virtual machine from microsoft azure portal and set virtual machine configuration\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>10. On the second <b>Virtual Machine Configuration<\/b> page, set the following <b>virtual machine<\/b> attributes as shown in figure.<\/p>\n<p>\u00b7 <b>Cloud Service<\/b> \u2013 This is a cloud service container for virtual machines that you create. You can create a new cloud service container for a single virtual machine or place multiple virtual machines in the same cloud service for load balancing.<\/p>\n<p>\u00b7 <b>Cloud Service DNS Name<\/b> \u2013 This is the global DNS name that is used to contact the virtual machine.<\/p>\n<p>\u00b7 <b>Region\/Affinity Group\/Virtual Network<\/b> &#8211; This is the Region where you want the virtual machine resources to be physically deployed. The Affinity Group attribute allows Azure to keep all services in a group physically close. The Virtual Network attribute allows you to define the network to connect to the virtual machine.<\/p>\n<p>\u00b7 <b>Availability Set<\/b> \u2013 This is used to define a group of virtual machines that are deployed across fault and update domains.<\/p>\n<p>\u00b7 <b>Endpoints<\/b> \u2013 These are the communication ports through which the virtual machine can be contacted.<\/p>\n<p>11. Click on proceed arrow icon.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/14-create-virtual-machine-from-microsoft-azure-portal-and-set-virtual-machine-configuration-2.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"14-Create virtual machine from microsoft azure portal and set virtual machine configuration (2)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/14-create-virtual-machine-from-microsoft-azure-portal-and-set-virtual-machine-configuration-2_thumb.jpg\" alt=\"14-Create virtual machine from microsoft azure portal and set virtual machine configuration (2)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip<\/span> In some of the posts you can find high-level descriptions of <a href=\"https:\/\/mohamedradwan.com\/2017\/07\/08\/quick-intro-to-agile\/\">Agile<\/a> principles and the usage of some <a href=\"https:\/\/mohamedradwan.com\/2017\/07\/16\/tfs-2015-agile-project-management\/\">Agile tools<\/a> and <a href=\"http:\/\/agilemanifesto.org\/\">Agile methodology<\/a>.<\/p>\n<p>&nbsp;<\/p>\n<p>12. On the third <b>Virtual Machine Configuration<\/b> page, set the following <b>virtual machine<\/b> attributes as shown in figure.<\/p>\n<p>\u00b7 <b>VM Agent<\/b> \u2013 The VM Agent installs extensions that enhance the interaction with the virtual machine. This option cannot be disabled when installing a Linux image. For Windows data disks and Linux images and disks, a version of the VM agent that supports extensions must already be installed in the operating system.<\/p>\n<p>\u00b7 <b>Configuration Extensions<\/b> \u2013 These are extensions that enhance the management of the virtual machine, including the execution of custom scripts.<\/p>\n<p>\u00b7 <b>Security Extensions<\/b> &#8211; These are extensions that enhance the security of the virtual machine, such as antivirus support.<\/p>\n<p>13. Click on check mark.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/15-create-virtual-machine-from-microsoft-azure-portal-and-set-virtual-machine-configuration.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"15-Create virtual machine from microsoft azure portal and set virtual machine configuration\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/15-create-virtual-machine-from-microsoft-azure-portal-and-set-virtual-machine-configuration_thumb.jpg\" alt=\"15-Create virtual machine from microsoft azure portal and set virtual machine configuration\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>14. You can see near the command bar at the bottom left of the Portal screen, the <b>Virtual Machinebeing created<\/b>. It will first <b>create the virtual machine<\/b>, <b>provision the virtual machine<\/b> and then <b>install extensions in the virtual machine<\/b>.<\/p>\n<p>15. After few minutes, it will show up the notification that the <b>virtual machine has been successfully started.<\/b><\/p>\n<p>16. You can then see the new <b>virtual machine<\/b> created &lt;<b>VSALM-mra<\/b>&gt; in the list of <b>VM Instances<\/b>.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/16-create-virtual-machine-from-microsoft-azure-portal-2.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"16-Create virtual machine from microsoft azure portal (2)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/16-create-virtual-machine-from-microsoft-azure-portal-2_thumb.jpg\" alt=\"16-Create virtual machine from microsoft azure portal (2)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"gray\">\u00a0You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=7C6LG6k4wcU&amp;t=4s\">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">if you would like to find more information about my personal experience of the migration Team Foundation Server to Visual Studio Team Services using Database Import Service or TFS Migrator tool provided by Visual Studio Team. Going through all six phases of the migration, following the migration guide provided by Microsoft as a walkthrough.<\/p>\n<p class=\"gray\">You will see how to get started with the migration process and which prerequisites should be completed. The most important prerequisite is that you must have Azure Active Directory in order to use TFS Migrator tool.<\/p>\n<p class=\"gray\">See more about the two different process models supported by VSTS, Inherited and Hosted XML. See which decisions you should make and how to validate them, for example which customizations you should keep and which one to remove. To prepare the first collection dacpac, first you should prepare Azure Storage Container, create dacpac file and afterwards upload it.<\/p>\n<p class=\"gray\">To prepare the second collection Azure VM, you should install SQL Server, backup the DB from the collection and upload it to the Azure storage container. See first how to import (dry &#8211; run) and how to change the configuration afterwards in order to import (production).<\/p>\n<p>&nbsp;<\/p>\n<h3><a name=\"_Toc443468867\"><\/a>Step 7: Connect to Windows Azure Virtual Machine<\/h3>\n<p>In the <b>Azure classic portal<\/b>, you use the <b>Connect button<\/b> to start a <b>Remote Desktop session<\/b> and log on to a <b>Windows VM<\/b>.<\/p>\n<p>1. From the navigation pane, click on <b>Virtual Machines<\/b>.<\/p>\n<p>2. Under <b>Virtual Machines<\/b>, click on the name of the <b>virtual machine<\/b>&lt;<b>VSALM-mra<\/b>&gt;.<\/p>\n<p>3. From the command bar at the bottom of the Portal screen, click on <b>Connect.<\/b><\/p>\n<p>4. Click on <b>OK<\/b>. It creates and downloads a <b>Remote Desktop Protocol file (.rdp file)<\/b>.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/17-connect-to-windows-azure-virtual-machine-by-downloading-rdp-file.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"17-Connect to windows azure virtual machine by downloading rdp file\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/17-connect-to-windows-azure-virtual-machine-by-downloading-rdp-file_thumb.jpg\" alt=\"17-Connect to windows azure virtual machine by downloading rdp file\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"green\"><span class=\"ion-info\">More Info<\/span>The post <a href=\"https:\/\/mohamedradwan.com\/2018\/01\/16\/upgrade-to-tfs-2018-has-been-done-in-production\/\">Upgrade to TFS 2018 Has Been Done in Production<\/a> describes a full upgrade and migration from TFS2015 to TFS2018 and describes the improvements over the old TFS 2015.<\/p>\n<p>&nbsp;<\/p>\n<p>5. Open downloaded <b>.rdp file<\/b> from your local machine.<\/p>\n<p>6. In the <b>Windows Security<\/b> window, type the credentials for an account on the <b>virtual machine.<\/b><\/p>\n<p>7. Click on <b>OK<\/b>.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/18-connect-to-windows-azure-virtual-machine-by-downloading-rdp-file-2.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"18-Connect to windows azure virtual machine by downloading rdp file (2)\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/18-connect-to-windows-azure-virtual-machine-by-downloading-rdp-file-2_thumb.jpg\" alt=\"18-Connect to windows azure virtual machine by downloading rdp file (2)\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>8. You can now access the machine of <b>Brian Keller<\/b> that you uploaded in <b>Windows Azure<\/b>.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/19-connect-to-brian-keller-windows-azure-virtual-machine.jpg\"><img loading=\"lazy\" decoding=\"async\" style=\"background-image: none; padding-top: 0; padding-left: 0; display: inline; padding-right: 0; border-width: 0;\" title=\"19-Connect to Brian Keller windows azure virtual machine\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2016\/02\/19-connect-to-brian-keller-windows-azure-virtual-machine_thumb.jpg\" alt=\"19-Connect to Brian Keller windows azure virtual machine\" width=\"660\" height=\"452\" border=\"0\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"gray\">\u00a0You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=uGAcWLnSU0A\">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">If you would like to find more information about how to get started with Release Management and its advantages. See how to create a build definition using CI\/CD Tools for VSTS Extensions (I will be using Package Extension and Publish Artifact tasks), and also using <strong>DevOps-VSTS-POC<\/strong> trigger in order to enable CI, all of that in order to be able to publish, share, install and query versions.<\/p>\n<p class=\"gray\">You will see how to create release definition, choose an artifact and configure source for the artifact and default version. See how to create different environments or clone the existing one, in my case I am going to create QA, Preproduction and Production environment, each with one phrase and one task. See also how to configure Publish Extension task for each environment See an end-to-end continuous delivery pipeline using VSTS extension with Build and Release Management.<\/p>\n<p>&nbsp;<\/p>\n<h3><a name=\"_Toc443468868\"><\/a>Conclusion<\/h3>\n<p>The <b>Microsoft Azure Portal<\/b> provides multiple, simple methods to create and manage <b>virtual machines<\/b> in the <b>Microsoft public cloud<\/b>. Using the <b>Quick Create method<\/b>, you can quickly create new <b>virtual machines<\/b> and go back later to set more configuration options. Using the <b>From Gallery method<\/b>, you can fully customize the <b>virtual machine configuration<\/b> before it is deployed into the physical region as a standalone or load balanced service.<\/p>\n<h2><b>Microsoft Azure virtual machines<\/b> scale in processor<\/h2>\n<p>Memory, and storage, allowing you to create <b>virtual machines<\/b> with a large number of cores and memory, and data disks up to <b>1 TB in size<\/b>. As an added benefit, you can easily move a <b>virtual machine<\/b> created in <b>Microsoft Azure<\/b> to <b>Hyper-V<\/b> and back since both use the same virtualized hardware and VHD format. This allows you to quickly reconfigure services on premise or redeploy to the public cloud to adjust to changing business conditions.<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip<\/span> In one of the old posts <a href=\"https:\/\/mohamedradwan.com\/2017\/07\/16\/tfs-2015-agile-project-management\/\">TFS 2015 Agile Project Management<\/a> you can read more about new <a href=\"https:\/\/docs.microsoft.com\/en-us\/vsts\/work\/backlogs\/overview\"><strong>Agile Project Management<\/strong><\/a> features in <strong>TFS 2015, <\/strong>which provide better support for aligning across teams, while giving autonomy to individual teams; you can use the same structure with VSTS\/TFS2018.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Recently, I worked with Microsoft Azure to provide better solutions &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2015\/09\/21\/how-to-upload-a-virtual-machine-to-the-cloud-for-microsoft-azure\/\"> <span class=\"screen-reader-text\">How to Upload a Virtual Machine to the Cloud for Microsoft Azure<\/span> Read More<\/a><\/p>\n","protected":false},"author":1,"featured_media":5482,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,17,18],"tags":[99],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/5043"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=5043"}],"version-history":[{"count":8,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/5043\/revisions"}],"predecessor-version":[{"id":9552,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/5043\/revisions\/9552"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media\/5482"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=5043"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=5043"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=5043"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}