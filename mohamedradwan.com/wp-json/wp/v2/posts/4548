{"id":4548,"date":"2014-06-22T19:20:29","date_gmt":"2014-06-22T19:20:29","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=4548"},"modified":"2016-04-25T07:44:51","modified_gmt":"2016-04-25T07:44:51","slug":"how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2014\/06\/22\/how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013\/","title":{"rendered":"How to Copy Build output to a Lab Environment Machine for TFS2013"},"content":{"rendered":"<p>If you want to run Coded-UI test on Lab Environment machine then you need to copy the binaries files to that machine, you can create script that do that but also you can create some customization for the build process to do that as the following.<\/p>\n<p>In our scenario we have 2 machines, the first one\u00a0(<strong>Visual Studio 2013 ALM RTM<\/strong>) it&#8217;s a <strong>TFS<\/strong> machine with <a title=\"Setting Up Test Controllers in Lab Environments\" href=\"http:\/\/msdn.microsoft.com\/en-us\/library\/hh546460.aspx\" target=\"_blank\"><strong>Test Control<\/strong><\/a> and the second one\u00a0(<strong>Agent<\/strong>) it&#8217;s a machine with <strong><a title=\"Installing and Configuring Test Agents and Test Controllers\" href=\"http:\/\/msdn.microsoft.com\/en-us\/library\/dd648127.aspx\" target=\"_blank\">Test Agent<\/a>.<br \/>\n<\/strong><a href=\"https:\/\/mohamedradwan.com\/2014\/06\/22\/how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013\/machines\/#main\" rel=\"attachment wp-att-4551\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-4551\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/machines.jpg\" alt=\"Machines\" width=\"450\" height=\"58\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/machines.jpg 450w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/machines-300x39.jpg 300w\" sizes=\"(max-width: 450px) 100vw, 450px\" \/><br \/>\n<\/a>The first step on the <strong>Agent<\/strong> machine, share the folder that will hold the binaries.<a href=\"https:\/\/mohamedradwan.com\/2014\/06\/22\/how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013\/sharing\/#main\" rel=\"attachment wp-att-4552\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-4552\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/sharing.jpg\" alt=\"Sharing\" width=\"501\" height=\"568\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/sharing.jpg 501w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/sharing-265x300.jpg 265w\" sizes=\"(max-width: 501px) 100vw, 501px\" \/><\/a><\/p>\n<p>From the <strong>Tool Box<\/strong> type get and drag and drop <a title=\"Get a reference to the IBuildDetail object (GetBuildDetail activity)\" href=\"http:\/\/msdn.microsoft.com\/en-us\/library\/gg265783.aspx#Activity_GetBuildDetail\" target=\"_blank\"><strong>GetBuildDetail<\/strong> <\/a>Activity, you need to put it between <strong>Update Build Number<\/strong> and <strong>Run on Agent<\/strong>.<\/p>\n<p>Click on variables and declare a new variable of type <a title=\"IBuildDetail Interface\" href=\"http:\/\/msdn.microsoft.com\/en-us\/library\/microsoft.teamfoundation.build.client.ibuilddetail.aspx\" target=\"_blank\"><strong>IBuildDetail<\/strong> <\/a>to hold the return value from <strong>GetBuildDetail<\/strong>\u00a0Activity, in my case I called that variable <strong>RadwanBuildDetail<\/strong>.<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2014\/06\/22\/how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013\/ibuilddetail-getbuilddetail\/#main\" rel=\"attachment wp-att-4554\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4554\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/ibuilddetail-getbuilddetail1.jpg?w=660\" alt=\"IBuildDetail- GetBuildDetail\" width=\"660\" height=\"371\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/ibuilddetail-getbuilddetail1.jpg 996w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/ibuilddetail-getbuilddetail1-300x169.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/ibuilddetail-getbuilddetail1-768x433.jpg 768w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>From properties of the <strong>GetBuildDetail<\/strong>\u00a0Activity assign the result to to the variable that we just declared.<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2014\/06\/22\/how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013\/assign-builddetail-variable\/#main\" rel=\"attachment wp-att-4553\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4553\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/assign-builddetail-variable.jpg?w=660\" alt=\"Assign BuildDetail variable\" width=\"660\" height=\"295\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/assign-builddetail-variable.jpg 900w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/assign-builddetail-variable-300x134.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/assign-builddetail-variable-768x344.jpg 768w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>From the Tool Box drag and drop <a title=\"Copy a directory (CopyDirectory activity)\" href=\"http:\/\/msdn.microsoft.com\/en-us\/library\/gg265783.aspx#Activity_CopyDirectory\" target=\"_blank\"><strong>CopyDirectory<\/strong><\/a>, you must put it in <strong>Run on Agent<\/strong>, from the properties, select the source which is our variable and in the <strong>Destination<\/strong>\u00a0, type the UN path for our shared folder, of course in real scenario you will not hard coded that <strong>Destination<\/strong> and you will make that as argument; so you can enter that by just\u00a0edit the<strong> Build\u00a0Definition<\/strong>.<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2014\/06\/22\/how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013\/copydirectory-activity\/#main\" rel=\"attachment wp-att-4549\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4549\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/copydirectory-activity.jpg?w=660\" alt=\"CopyDirectory Activity\" width=\"660\" height=\"550\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/copydirectory-activity.jpg 702w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2014\/06\/copydirectory-activity-300x250.jpg 300w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><br \/>\n<\/a>If you run this build the output of the drop folder will be copied to the Lab Management machine.<\/p>\n<p><a title=\"Tutorial about customizing build process\" href=\"https:\/\/mohamedradwan.com\/2010\/11\/27\/3-activities-part-1\/\" target=\"_blank\">More information and tutorial about customizing build process<\/a><\/p>\n<p>&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>If you want to run Coded-UI test on Lab Environment &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2014\/06\/22\/how-to-copy-build-output-to-a-lab-environment-machine-for-tfs2013\/\"> <span class=\"screen-reader-text\">How to Copy Build output to a Lab Environment Machine for TFS2013<\/span> Read More<\/a><\/p>\n","protected":false},"author":1,"featured_media":5529,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,26,43],"tags":[],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4548"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=4548"}],"version-history":[{"count":1,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4548\/revisions"}],"predecessor-version":[{"id":5530,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4548\/revisions\/5530"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media\/5529"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=4548"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=4548"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=4548"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}