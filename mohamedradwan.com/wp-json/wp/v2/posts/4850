{"id":4850,"date":"2015-01-29T10:59:10","date_gmt":"2015-01-29T10:59:10","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=4850"},"modified":"2016-04-25T07:29:02","modified_gmt":"2016-04-25T07:29:02","slug":"create-a-tfs-build-custom-activity-to-read-from-file","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/","title":{"rendered":"Create a TFS Build Custom Activity to Read From File"},"content":{"rendered":"<p>I needed to create a Custom Activity that read from XML file and display the values on the Build log.<\/p>\n<p>It&#8217;s very easy and I will not re-write how to do the basic Custom Activity, but if you are not familiar\u00a0with that, you can see the following link:<br \/>\n<a title=\"Use and develop custom build process activities\" href=\"https:\/\/msdn.microsoft.com\/en-us\/library\/hh850441.aspx\" target=\"_blank\">Use and develop custom build process activities<\/a><\/p>\n<p>Here, I needed to add <strong>OutArgument\u00a0<\/strong>to return the value that I got from reading\u00a0the file, I will got the value from the file and assign that value to <strong>OutArgument<\/strong>.<a href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/outarguemnt-in-tfs-custom-activity\/#main\" rel=\"attachment wp-att-4851\"><br \/>\n<img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4851\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outarguemnt-in-tfs-custom-activity.png?w=660\" alt=\"OutArguemnt in TFS Custom activity\" width=\"660\" height=\"332\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outarguemnt-in-tfs-custom-activity.png 1046w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outarguemnt-in-tfs-custom-activity-300x151.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outarguemnt-in-tfs-custom-activity-768x386.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outarguemnt-in-tfs-custom-activity-1024x515.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>After that, I built the project and distribute the library (DLL) under source control where the\u00a0build controller point for\u00a0the custom assemblies, see the previous link for the MSDN on how to do that.<\/p>\n<p>Open your process template that you want to use the new custom activity and Right-click on the Toolbox and browse to the created library as the following image.<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/add-custom-activity-for-the-visual-studio-toolbox-2\/#main\" rel=\"attachment wp-att-4853\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4853\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/add-custom-activity-for-the-visual-studio-toolbox1.png?w=660\" alt=\"Add custom activity for The Visual Studio Toolbox\" width=\"660\" height=\"325\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/add-custom-activity-for-the-visual-studio-toolbox1.png 1205w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/add-custom-activity-for-the-visual-studio-toolbox1-300x148.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/add-custom-activity-for-the-visual-studio-toolbox1-768x379.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/add-custom-activity-for-the-visual-studio-toolbox1-1024x505.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>Drag and drop your new custom activity, declare a new variable (MyValue) to hold the return value from the reading process as the following image.<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/readfromxml-activity\/#main\" rel=\"attachment wp-att-4854\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4854\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity.png?w=660\" alt=\"ReadFromXML Activity\" width=\"660\" height=\"319\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity.png 1226w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-300x145.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-768x371.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-1024x495.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>The Build summary will be as the following image.<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/build-summary\/#main\" rel=\"attachment wp-att-4855\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4855\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-summary.png?w=660\" alt=\"Build Summary\" width=\"660\" height=\"485\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-summary.png 686w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-summary-300x220.png 300w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>The build log will be as the following image.<br \/>\n<img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4856\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-log.png?w=660\" alt=\"Build Log\" width=\"660\" height=\"523\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-log.png 714w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-log-300x238.png 300w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/p>\n<p>&nbsp;<\/p>\n<h3><span style=\"color: #008000;\">Make the activity return list of string<\/span><\/h3>\n<p>We will need to define <strong>OutArgument<\/strong> as <span style=\"color: #339966;\">List<\/span>&lt;<span style=\"color: #0000ff;\">string<\/span>&gt; and assign that in the execute method<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/outargument-as-list-of-string\/#main\" rel=\"attachment wp-att-4864\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4864\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outargument-as-list-of-string.png?w=660\" alt=\"OutArgument as list of string\" width=\"660\" height=\"457\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outargument-as-list-of-string.png 757w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/outargument-as-list-of-string-300x208.png 300w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>Declare a variable (MyValue) but this time the type is <span style=\"color: #339966;\">List<\/span>&lt;<span style=\"color: #0000ff;\">string<\/span>&gt; too<br \/>\nDrag and drop <span style=\"color: #0000ff;\">For each<\/span> Activity of string and print each\u00a0item in the list as the following<a href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/readfromxml-activity-for-list-of-string\/#main\" rel=\"attachment wp-att-4865\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4865\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-for-list-of-string.png?w=660\" alt=\"ReadFromXML Activity for list of string\" width=\"660\" height=\"293\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-for-list-of-string.png 1216w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-for-list-of-string-300x133.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-for-list-of-string-768x340.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/readfromxml-activity-for-list-of-string-1024x454.png 1024w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p>The Build summary will be as the following image.<br \/>\n<a href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/build-summary-for-list-of-string\/#main\" rel=\"attachment wp-att-4866\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-4866\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-summary-for-list-of-string.png?w=660\" alt=\"Build Summary for list of string\" width=\"660\" height=\"471\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-summary-for-list-of-string.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2015\/01\/build-summary-for-list-of-string-300x214.png 300w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>I needed to create a Custom Activity that read from &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2015\/01\/29\/create-a-tfs-build-custom-activity-to-read-from-file\/\"> <span class=\"screen-reader-text\">Create a TFS Build Custom Activity to Read From File<\/span> Read More<\/a><\/p>\n","protected":false},"author":1,"featured_media":5505,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,17,28,43],"tags":[],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4850"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=4850"}],"version-history":[{"count":1,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4850\/revisions"}],"predecessor-version":[{"id":5506,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/4850\/revisions\/5506"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media\/5505"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=4850"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=4850"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=4850"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}