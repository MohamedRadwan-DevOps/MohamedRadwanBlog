{"id":10298,"date":"2021-10-06T11:13:24","date_gmt":"2021-10-06T11:13:24","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=10298"},"modified":"2022-06-11T17:10:44","modified_gmt":"2022-06-11T17:10:44","slug":"using-github-actions-in-visual-studio-only-with-right-click-and-publish","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2021\/10\/06\/using-github-actions-in-visual-studio-only-with-right-click-and-publish\/","title":{"rendered":"Using GitHub Actions in Visual Studio only with right-click and Publish"},"content":{"rendered":"<p><span style=\"font-weight: 400;\">In this post, we are going to see how easy it is to set up continuous integration and deployment (CI\/CD) using GitHub Actions, all in the familiar Publish dialog. <\/span><\/p>\n<p><span style=\"font-weight: 400;\">See how to build a CI\/CD Pipeline from Visual Studio in this <a href=\"https:\/\/mohamedradwan.com\/2018\/06\/05\/build-a-cicd-continuous-integrationcontinuous-deployment-pipeline-from-visual-studio\/\">post<\/a>.<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Using this GitHub feature you can do CI\/CD through a workflow defined in GitHub. If your project is hosted on GitHub, Visual Studio can help you to set it up through right-click and publish. In this post, you can see <a href=\"https:\/\/mohamedradwan.com\/2019\/01\/24\/azure-devops-add-cicd-azure-pipelines-github\/\">how to add CI\/CD Azure Pipelines + Github<\/a>.<\/span><\/p>\n<p><span style=\"font-weight: 400;\">If you have a piece of code and you have an application that you want to deploy somewhere, one way to do it is to right-click on your project in Visual Studio and publish it. <\/span><\/p>\n<p><span style=\"font-weight: 400;\">Visual Studio will help you to build your code, by taking everything that you have on your local machine and push it on your deployment target. The alternative is that if you want your deployment to happen from source control and probably run some tests, that is what we call continuous integration and deployment.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">You are gonna need at least Visual Studio 16.8 preview 3 since the GitHub Action Tooling feature exists since this version. You can download the latest preview <a href=\"https:\/\/visualstudio.microsoft.com\/vs\/preview\/\">here<\/a>. Make sure that GitHub Actions support for publishing feature is enabled for all the builds in tools options. In my example, I have an ASP.NET core project which is source controlled using GitHub. <\/span><\/p>\n<p><span style=\"font-weight: 400;\">In this <a href=\"https:\/\/mohamedradwan.com\/2015\/10\/11\/sync-between-my-github-and-visual-studio-online\/\">post<\/a>, you can see how to sync your GitHub and Visual Studio Online. The first step is to right-click on the project and select publish. A dialog will be shown asking \u201cWhere are you publishing today?\u201d with several destinations listed and in this example, we will see publishing our app to the Microsoft cloud Azure, displayed on Image 1.\u00a0<\/span><\/p>\n<figure id=\"attachment_10299\" aria-describedby=\"caption-attachment-10299\" style=\"width: 760px\" class=\"wp-caption alignnone\"><img loading=\"lazy\" decoding=\"async\" class=\"wp-image-10299 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-1-Publish-dialog-1024x562.png\" alt=\"\" width=\"760\" height=\"417\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-1-Publish-dialog-1024x562.png 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-1-Publish-dialog-300x165.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-1-Publish-dialog-768x421.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-1-Publish-dialog-1536x843.png 1536w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-1-Publish-dialog.png 1597w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><figcaption id=\"caption-attachment-10299\" class=\"wp-caption-text\">Image 1 &#8211; Publish dialog<\/figcaption><\/figure>\n<p><span style=\"font-weight: 400;\">On the next screen the question \u201cWhich Azure service would you like to use to host your app?\u201d will be shown with a list of services. In this example, we are going to deploy to Azure App Service on Linux, a target that is supported by GitHub Actions. <\/span><\/p>\n<p><span style=\"font-weight: 400;\">By clicking Next, Visual Studio will help us to pick the instance that we want to deploy by listing the already existing instances (and also a possibility to create a new one). <\/span><\/p>\n<p><span style=\"font-weight: 400;\">After choosing an existing instance (in this example), the VS will ask us \u201cHow would you like to deploy your application?\u201d, listing two options, Publish(generates pubxml file) and CI\/CD using GitHub Actions workflows (generates yml file). <\/span><\/p>\n<p><span style=\"font-weight: 400;\">The second option is the new one which is doing CI\/CD through GitHub Actions. After choosing the new option, Visual Studio will create a working workflow that is applicable to our project.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Visual Studio knows exactly how to make our project work in the options that we have picked, knowing the type of project and the target that we picked in Azure. Next, it will download the best template, the best GitHub Action workflow, in order to make sure that we can have our application deployed to Azure through CI\/CD.<\/span><\/p>\n<figure id=\"attachment_10300\" aria-describedby=\"caption-attachment-10300\" style=\"width: 760px\" class=\"wp-caption alignnone\"><img loading=\"lazy\" decoding=\"async\" class=\"wp-image-10300 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-2-Summary-page-of-the-created-workflow-1024x648.png\" alt=\"\" width=\"760\" height=\"481\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-2-Summary-page-of-the-created-workflow-1024x648.png 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-2-Summary-page-of-the-created-workflow-300x190.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-2-Summary-page-of-the-created-workflow-768x486.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-2-Summary-page-of-the-created-workflow.png 1472w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><figcaption id=\"caption-attachment-10300\" class=\"wp-caption-text\">Image 2 &#8211; Summary page of the created workflow<\/figcaption><\/figure>\n<p><span style=\"font-weight: 400;\">In image 2 we can see the new workflow file created named the same as our project with extension .yml.<\/span><\/p>\n<p><span style=\"font-weight: 400;\">Also, it shows the current status and what we have to do next. In the image, it is telling us that the workflow will not work until we commit and push the workflow and changes to our GitHub repository. <\/span><\/p>\n<p><span style=\"font-weight: 400;\">Also displayed are some details about the GitHub Actions workflow, like Triggers and Publish profile secret where we can also see the option Edit workflow, which will lead us to yml editing experience in VS. <\/span><\/p>\n<p><span style=\"font-weight: 400;\">Also, the Configuration and .NET SDK versions are displayed in section Settings. Hosting details are giving us information for Subscription, Resource group, Resource name, link to the site, etc.<\/span><\/p>\n<p><span style=\"font-weight: 400;\">After clicking commit and push it will start working in the background. After a while, we can see a message that our Workflow run completed successfully with an option to download the workflow logs or we can open them in GitHub which is a link to the Actions tab of our Git repository. Here we have an option to Build and Deploy which will give us detailed steps of what was happening with an option to expand each of the steps, shown in Image 3.\u00a0<\/span><\/p>\n<figure id=\"attachment_10301\" aria-describedby=\"caption-attachment-10301\" style=\"width: 760px\" class=\"wp-caption alignnone\"><img loading=\"lazy\" decoding=\"async\" class=\"wp-image-10301 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-3-Detailed-steps-of-Build-and-Deploy-1024x558.png\" alt=\"\" width=\"760\" height=\"414\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-3-Detailed-steps-of-Build-and-Deploy-1024x558.png 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-3-Detailed-steps-of-Build-and-Deploy-300x164.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-3-Detailed-steps-of-Build-and-Deploy-768x419.png 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-3-Detailed-steps-of-Build-and-Deploy-1536x838.png 1536w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2021\/10\/Image-3-Detailed-steps-of-Build-and-Deploy.png 1652w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><figcaption id=\"caption-attachment-10301\" class=\"wp-caption-text\">Image 3 &#8211; Detailed steps of Build and Deploy<\/figcaption><\/figure>\n<p><span style=\"font-weight: 400;\">In the Deploy, to Azure step, we have a link directly to the application that we build.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">The same thing is going to happen in the future when we make some changes and push them, without having to click right click and publish.\u00a0<\/span><\/p>\n<p><span style=\"font-weight: 400;\">The next additional features that we expect in GitHub Actions are going to help us to be able to configure more settings in the summary page without having to go to the yml file. Also to support more project types and more deployment targets. Read more on <a href=\"https:\/\/devblogs.microsoft.com\/visualstudio\/whats-new-with-github-actions-tooling-in-visual-studio\/\">What&#8217;s new with GitHub Actions tooling in Visual Studio.<\/a><\/span><\/p>\n","protected":false},"excerpt":{"rendered":"<p>In this post, we are going to see how easy &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2021\/10\/06\/using-github-actions-in-visual-studio-only-with-right-click-and-publish\/\"> <span class=\"screen-reader-text\">Using GitHub Actions in Visual Studio only with right-click and Publish<\/span> Read More<\/a><\/p>\n","protected":false},"author":1,"featured_media":10307,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,23,1072],"tags":[950,1070,1071,879],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/10298"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=10298"}],"version-history":[{"count":4,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/10298\/revisions"}],"predecessor-version":[{"id":10520,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/10298\/revisions\/10520"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media\/10307"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=10298"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=10298"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=10298"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}