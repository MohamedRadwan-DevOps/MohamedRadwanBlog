{"id":624,"date":"2011-06-11T18:40:44","date_gmt":"2011-06-11T18:40:44","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=610"},"modified":"2017-08-30T06:16:07","modified_gmt":"2017-08-30T06:16:07","slug":"install-and-configure-lab-center-2010","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2011\/06\/11\/install-and-configure-lab-center-2010\/","title":{"rendered":"Install and configure Lab Center 2010"},"content":{"rendered":"<hr \/>\n<p><span style=\"color: #0000ff;\">Updated on April 17, 2012<\/span><\/p>\n<p>You can see the full video series (93 videos) of install and configure TFS 2010 in enterprise, see the guide on the Codeplex<\/p>\n<p><a href=\"https:\/\/github.com\/DevOpsFounder\/TFS-2010-Enterprise-Installation-and-Configuration-Video-Guide\">http:\/\/tfs10enterprise.codeplex.com\/<\/a><\/p>\n<p><span style=\"color: #0000ff;\">End of update April 17, 2012\u00a0update\u00a0<\/span><\/p>\n<p>Prepare your environment as the following:<\/p>\n<ul>\n<li>Lab Management with TFS\u00a0architecture<\/li>\n<\/ul>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-7140\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/Lab-Management-Architecture-1024x361.jpg\" alt=\"Lab-Management-Architecture\" width=\"760\" height=\"268\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/Lab-Management-Architecture-1024x361.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/Lab-Management-Architecture-300x106.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/Lab-Management-Architecture-768x271.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/Lab-Management-Architecture.jpg 1600w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/p>\n<p><span class=\"Apple-style-span\" style=\"font-size: 11px; line-height: 17px;\">Lab Management and TFS architecture<\/span><\/p>\n<ul>\n<li>Install TFS, Build Server and Test\u00a0Controller<\/li>\n<\/ul>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-full wp-image-7144\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-Without-LabManagement.jpg\" alt=\"TFS-Without-LabManagement\" width=\"743\" height=\"410\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-Without-LabManagement.jpg 743w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-Without-LabManagement-300x166.jpg 300w\" sizes=\"(max-width: 743px) 100vw, 743px\" \/><\/p>\n<p><span class=\"Apple-style-span\" style=\"font-size: 11px; line-height: 17px;\">TFS without Lab Management<\/span><\/p>\n<ul>\n<li>Install Hyper-V on a physical machine<\/li>\n<li>Install SCVMM on the Hyper-V machine or any other machine<\/li>\n<li>Install Admin console on the SCVMM \u00a0machine to configure the library and add the host machine(s) (Hyper-V) to the SCVMM<\/li>\n<li>Install Admin console on the TFS machine<\/li>\n<li>Configure Lab Management on the TFS machine from The TFS Administration console<\/li>\n<\/ul>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7143\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-With-LabManagement.jpg\" alt=\"TFS-With-LabManagement\" width=\"769\" height=\"383\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-With-LabManagement.jpg 960w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-With-LabManagement-300x149.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-With-LabManagement-768x382.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TFS-With-LabManagement-600x300.jpg 600w\" sizes=\"(max-width: 769px) 100vw, 769px\" \/><\/p>\n<p><span class=\"Apple-style-span\" style=\"font-size: 11px; line-height: 17px;\">TFS with Lab Management<\/span><\/p>\n<ul>\n<li>Create virtual machines on the Hyper-V and prepare them as you need of OS or application (one Windows 2008 R2, one Windows 7, one Windows Vista, etc..)<\/li>\n<li>Join all created virtual machines to the domain<\/li>\n<li>Install Lab Agent, Test Agent, Build Agent on every virtual machine (as needed) for example if you will not run automated test on the virtual machine you will not need test agent<\/li>\n<li>Run those machines on the Hyper-V so you can create the template from them ( you don&#8217;t need it)<\/li>\n<li>Create templates using the existing configured virtual machine that running on the Hyper-V or if you didn&#8217;t run them in the Hyper-V, you can create them from virtual hard disk VHD and then put those\u00a0templates\u00a0on the library<\/li>\n<li>Import the templates in the Lab Management from the library<\/li>\n<li>Create any number of\u00a0environments\u00a0using imported virtual machines (templates)<\/li>\n<li>Deploy the created environment to Hyper-V (it happen\u00a0automatically\u00a0as you create your environment)<\/li>\n<li>You can store the environment on the library or not<\/li>\n<li>Start using your environment in your manual or automated test<\/li>\n<\/ul>\n<p>Notes<\/p>\n<ul>\n<li>I decide to install the build controller on the TFS and create a\u00a0separate\u00a0machine\u00a0as a build server which has the build agent, I will create also a separate machine as a test controller because the\u00a0recommended is to\u00a0not install test controller on the TFS machine and the recommended also not install the build agent on the TFS machine<\/li>\n<li>Hyper-V will be the host for all virtual machines in my infrastructure included TFS, Build Server, Test Control mahcines, it will\u00a0include\u00a0also the library of the templates or actual virtual machines or\u00a0environment\u00a0or the running\u00a0environment,\u00a0remember\u00a0the library can has template machines or virtual environment in another word you can create the template from virtual machine and store it in the library and you can also create virtual environment and store it\u00a0in the library on the SCVMM<\/li>\n<li>When you install the build agent on the virtual machine at the last step choose option 3 (Manual\u00a0configure or use with Lab Management) and when you click configure from the Lab Center, it will configure it\u00a0automatically<\/li>\n<li>After you create the virtual machine that you will use to create your templates, if there is any error happen setup the build agent try to add the\u00a0account\u00a0needed in the administrators group of the\u00a0virtual\u00a0machine itself<\/li>\n<li>When I configure Lab Management from TFS Admin Console at the project collection configuration, at service account settings, I choose\u00a0<strong>TFSLAB<\/strong>\u00a0which is a domain account with restricted\u00a0permission, this account will be\u00a0<strong>used\u00a0<\/strong>when I configure the\u00a0<strong>Test Agent<\/strong>\u00a0on the\u00a0<strong>virtual\u00a0machine<\/strong>\u00a0that has the Test Agent, and also will be used by the Lab Management to configure the Build Agent<\/li>\n<li>After you install Test Agent you configure it to run as service or interactive process (Coded UI test)<\/li>\n<li>You install the Test Agent if you want to run automated test on the machine and you may\u00a0configure\u00a0as (<strong>Service<\/strong> if this a server machine web server for example or configure as \u00a0<strong>Interactive process<\/strong> if it&#8217;s client machine windows 7 for example) so if you\u00a0log in in interactive case you must log-in using <strong>TFSLAB<\/strong> or the account that used in configure Test agent and Lab Management configuration on TFS Admin console<\/li>\n<li>Test Agent configured\u00a0manually on the virtual\u00a0machine&#8211;&gt; start&#8211;&gt; Test Agent configuration<\/li>\n<li>Build Agent configured\u00a0automatically by the Lab Management on the virtual machine&#8211;&gt; when connecting to the machine using Lab center click configure button<\/li>\n<li>When I configure Test Agent, with <strong>TFSLAB<\/strong>account I have an error\u00a0&#8220;Test agent is not configured to run interactively under this account. Run the Test Agent Configuration Tool to change the interactive user account.&#8221; \u00a0This error could happen from many reason my reason was that I write the domain when configure the Test Agent like (mydomain.comTFSLAB) but it should be (MydomainTFSLAB), there are another resoan if you comfigue the Test Agent using local account, for more info see the following link <a title=\" Troubleshooting errors in lab management\" href=\"http:\/\/blogs.msdn.com\/b\/lab_management\/archive\/2009\/10\/26\/troubleshooting.aspx?ocid=soc-n-eg-elite--MRadwan\" target=\"_blank\">Troubleshooting errors in lab management<\/a><\/li>\n<\/ul>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7141\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent.png\" alt=\"TestAgent\" width=\"768\" height=\"494\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent.png 956w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent-300x193.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent-768x494.png 768w\" sizes=\"(max-width: 768px) 100vw, 768px\" \/><\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7142\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent2.png\" alt=\"TestAgent2\" width=\"767\" height=\"541\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent2.png 870w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent2-300x212.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2011\/06\/TestAgent2-768x542.png 768w\" sizes=\"(max-width: 767px) 100vw, 767px\" \/><\/p>\n<p><span class=\"Apple-style-span\" style=\"font-size: 11px; line-height: 17px;\"><br \/>\n<\/span><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Updated on April 17, 2012 You can see the full &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2011\/06\/11\/install-and-configure-lab-center-2010\/\"> <span class=\"screen-reader-text\">Install and configure Lab Center 2010<\/span> Read More<\/a><\/p>\n","protected":false},"author":2,"featured_media":7140,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,17,37],"tags":[],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/624"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=624"}],"version-history":[{"count":4,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/624\/revisions"}],"predecessor-version":[{"id":7147,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/624\/revisions\/7147"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media\/7140"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=624"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=624"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=624"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}