{"id":7921,"date":"2018-02-12T17:55:11","date_gmt":"2018-02-12T17:55:11","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=7921"},"modified":"2019-07-17T09:05:19","modified_gmt":"2019-07-17T09:05:19","slug":"how-to-deploy-to-azure-using-team-services-release-management","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2018\/02\/12\/how-to-deploy-to-azure-using-team-services-release-management\/","title":{"rendered":"How to deploy to Azure using Team Services Release Management"},"content":{"rendered":"<p><a href=\"#_Toc501552331\">Introduction<\/a><\/p>\n<p><a href=\"#_Toc501552332\">\u00a01: Create a new Build definition<\/a><\/p>\n<p><a href=\"#_Toc501552333\">\u00a02: Create a Release definition<\/a><\/p>\n<p><a href=\"#_Toc501552334\">\u00a03: Create an Azure Subscription<\/a><\/p>\n<p><a href=\"#_Toc501552335\">\u00a04: Deploy an application<\/a><\/p>\n<p><a href=\"#_Toc501552336\">\u00a05: Configure continuous delivery from the Azure portal<\/a><\/p>\n<p><a href=\"#_Toc501552337\">\u00a06: Check the results<\/a><\/p>\n<p><a href=\"#_Toc501552338\">Conclusion<\/a><\/p>\n<hr \/>\n<p>&nbsp;<\/p>\n<h2><a name=\"_Toc501552331\"><\/a>Introduction<\/h2>\n<p>This post will demonstrate how <a href=\"https:\/\/azure.microsoft.com\/en-us\/?v=17.44\"><strong>Azure<\/strong><\/a> deployments are made easy by using <strong><a href=\"https:\/\/www.visualstudio.com\/team-services\/\">Visual Studio Team Services (VSTS)<\/a> <a href=\"https:\/\/docs.microsoft.com\/en-us\/vsts\/build-release\/concepts\/definitions\/release\/what-is-release-management\">Release Management<\/a><\/strong>. You will see a step-by-step tutorial on how to configure and deploy to <strong>Azure<\/strong> in <strong>Release Management,<\/strong> and, moreover, how to configure an end-to-end pipeline for deploying applications on <strong>Azure<\/strong>.<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip<\/span> If you would like to learn more about using different environments during the realization of a software system \u2013 have a look at the post <a href=\"https:\/\/mohamedradwan.com\/2018\/02\/22\/azure-devtest-labs-updates\/\">Azure DevTest Labs Updates<\/a>. <a href=\"https:\/\/azure.microsoft.com\/en-us\/services\/devtest-lab\/\">Azure DevTest Labs<\/a> is a service provided by Microsoft Azure which provides functionality for managing environments that contain <a href=\"https:\/\/docs.microsoft.com\/en-us\/azure\/virtual-machines\/\">Azure Virtual Machines<\/a>. The post, mentioned above, describes both the core capabilities of DevTest Labs and the new features of the service (as of February, 2018).<\/p>\n<p>&nbsp;<\/p>\n<h4><strong>Release Management (RM)<\/strong> is a <a href=\"https:\/\/mohamedradwan.com\/2016\/07\/14\/devops-framework-and-practices\/\"><strong>DevOps<\/strong><\/a> feature set in both <a href=\"https:\/\/mohamedradwan.com\/wp-admin\/post.php?post=6412&amp;action=edit\"><strong>Team Foundation Services (TFS)<\/strong> and <strong>VSTS<\/strong><\/a>. The figure below demonstrates an example of <strong>VSTS Release Management<\/strong> portal interface.<\/h4>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7923\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7923 size-large\" title=\"VSTS Release Management portal interface\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/1.-RM-1024x528.jpg\" alt=\"VSTS Release Management portal interface\" width=\"760\" height=\"392\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/1.-RM-1024x528.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/1.-RM-300x155.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/1.-RM-768x396.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/1.-RM.jpg 1500w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p><strong>RM<\/strong> allows you to set up a <a href=\"https:\/\/www.visualstudio.com\/team-services\/continuous-integration\/\">continuous delivery<\/a> all the way from code check-ins to production through various test environments. This tutorial will show you how to get started easily using all the built-in templates and the tasks that are available in <strong>Build<\/strong> and <strong>Release<\/strong>, get connected to <strong>Azure<\/strong> with a single click and,<\/p>\n<h3>configure continuous delivery to <strong>Azure.<\/strong><\/h3>\n<p class=\"gray\">\u00a0You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=uGAcWLnSU0A\">this video .<\/a><\/strong>If you would like to find more information about how to get started with Release Management and its advantages. See how to create a build definition using CI\/CD Tools for VSTS Extensions (I will be using Package Extension and Publish Artifact tasks), and also using DevOps-VSTS-POC trigger in order to enable CI, all of that in order to be able to publish, share, install and query versions.<\/p>\n<p class=\"gray\">You will see how to create release definition, choose an artifact and configure source for the artifact and default version. See how to create different environments or clone the existing one, in my case I am going to create QA, Preproduction and Production environment, each with one phrase and one task. See also how to configure Publish Extension task for each environment See an end-to-end continuous delivery pipeline using VSTS extension with Build and Release Management.<\/p>\n<p>&nbsp;<\/p>\n<h2><a name=\"_Toc501551435\"><\/a>Step 1: Create a new Build definition<\/h2>\n<p><strong>VSTS<\/strong> is a <strong>Microsoft<\/strong>-provided cloud infrastructure with an integrated set of services allowing to plan, build, and ship software across a variety of platforms, without having to install or configure a single server.\u00a0 Now you will see how to create a <strong>Build definition <\/strong>template that you will deploy to <strong>Azure<\/strong> in the next steps.<\/p>\n<p>&nbsp;<\/p>\n<ol>\n<li style=\"list-style-type: none;\">\n<ol>\n<li>In your <strong>VSTS portal<\/strong> go to the <strong>Build &amp; Release\u00a0<\/strong>tab.<\/li>\n<li>In <strong>Build &amp; Release<\/strong> tab choose <strong>Builds<\/strong> from the ribbon.<\/li>\n<li>Create new <strong>Build definition<\/strong> by clicking on <strong>+New<\/strong>.<\/li>\n<li>From the appeared list of templates for various applications, choose your application type. We will be using <strong>NET<\/strong> web application.<\/li>\n<li>Click on <strong>Next<\/strong>.<\/li>\n<\/ol>\n<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip<\/span> If you would like to learn more about using the <a href=\"https:\/\/docs.microsoft.com\/en-us\/vsts\/build-release\/concepts\/definitions\/build\/variables?tabs=batch\">Build Variables<\/a> in <a href=\"https:\/\/www.visualstudio.com\/team-services\/\">VSTS<\/a> and Release Management, &#8211; have a look at the following post: <a href=\"https:\/\/mohamedradwan.com\/2018\/03\/11\/vsts-build-variables-and-echo\/\">VSTS Build variables and Echo<\/a>. The post describes how to see the output at any point of time, while automating a process, through setting variables and displaying them during the build.<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7924\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7924 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/2.-Create-New-Build-Definition-in-VSTS-1024x558.jpg\" alt=\"2. Create New Build Definition in VSTS\" width=\"760\" height=\"414\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/2.-Create-New-Build-Definition-in-VSTS-1024x558.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/2.-Create-New-Build-Definition-in-VSTS-300x164.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/2.-Create-New-Build-Definition-in-VSTS-768x419.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/2.-Create-New-Build-Definition-in-VSTS.jpg 1286w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"6\">\n<li>Pick the <strong>Code Repository<\/strong> and the <strong>Branch<\/strong> for your <strong>Build definition<\/strong>.<\/li>\n<li>Click on <strong>Create<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7925\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7925 size-full\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/3.-Create-New-Build-Definition-Repository-Choice.jpg\" alt=\"3. Create New Build Definition - Repository Choice\" width=\"504\" height=\"559\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/3.-Create-New-Build-Definition-Repository-Choice.jpg 504w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/3.-Create-New-Build-Definition-Repository-Choice-270x300.jpg 270w\" sizes=\"(max-width: 504px) 100vw, 504px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"8\">\n<li>As soon as you create the template, all the tasks with already pre-set right parameters will be created by default. You don&#8217;t need to change a single value &#8211; the build packages automatically create the web packages needed to deploy.<\/li>\n<li>Click on <strong>Save<\/strong>.<\/li>\n<li>Name your <strong>Build definition<\/strong>.<\/li>\n<li>Click <strong>OK<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7926\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7926 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/4.-Save-Build-definition-1024x554.jpg\" alt=\"4. Save Build definition\" width=\"760\" height=\"411\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/4.-Save-Build-definition-1024x554.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/4.-Save-Build-definition-300x162.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/4.-Save-Build-definition-768x415.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/4.-Save-Build-definition.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"12\">\n<li>Your <strong>Build definition<\/strong> is ready.<\/li>\n<li>Create a <strong>Build<\/strong> from the new <strong>Build definition<\/strong> by pressing <strong>Queue new build.<\/strong><\/li>\n<li>Press <strong>OK<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7927\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7927 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/5.-Queue-new-build-1024x555.jpg\" alt=\"5. Queue new build\" width=\"760\" height=\"412\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/5.-Queue-new-build-1024x555.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/5.-Queue-new-build-300x163.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/5.-Queue-new-build-768x416.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/5.-Queue-new-build.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h3 class=\"gray\">You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=vGWaJWkTmF4\">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">If you would like to find more information about an end-to-end Continuous Integration and Continuous Delivery Pipeline using VSTS extension using build and release management with VSTS. Learn how to create Git repo, push the code, go to the build and start creating a build definition. Afterwards add two tasks in the build definition; Package Extension and Publish Artifact (first install CI\/CD Tools for VSTS Extensions). How to create a new release definition, configure the artifact and create (in my case) three environments: QA, Preproduction and Production, each of them with one phase and one task.<\/p>\n<p class=\"gray\">Use the Publish Extension release task in order to configure VSTS marketplace connection and set different Publisher ID for each environment. Also, see how to enable\/disable Pre-deployment approvals for Release Management. Enable continuous integration, make any change (I have changed the current build number) and commit the change, which should trigger the build automatically. After the build is done see how to trigger the release.<\/p>\n<p>&nbsp;<\/p>\n<h2><a name=\"_Toc501551436\"><\/a>Step 2: Create a Release definition<\/h2>\n<p>After the <strong>Build<\/strong> is successfully created \u2013 you will need to create a <strong>Release<\/strong> for it.<\/p>\n<ol>\n<li>When the <strong>Build<\/strong> is created you will be automatically redirected to the <strong>Build summary<\/strong> page, where you can see <strong>Build successful<\/strong> indication on top of the page.<\/li>\n<li>From the <strong>Build summary page<\/strong> click on <strong>Create release<\/strong>.<\/li>\n<li>Click\u00a0<strong>Yes.<\/strong><\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7928\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7928 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/6.-Create-Release-1024x556.jpg\" alt=\"6. Create Release\" width=\"760\" height=\"413\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/6.-Create-Release-1024x556.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/6.-Create-Release-300x163.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/6.-Create-Release-768x417.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/6.-Create-Release.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"4\">\n<li>Choose an appropriate template from the appeared set of templates. In this case we will use the <strong>App Service Deployment.<\/strong><\/li>\n<li>Click on\u00a0<strong>Next.<\/strong><\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7929\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7929 size-full\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/7.-Create-Release-App-service-deployment.jpg\" alt=\"7. Create Release - App service deployment\" width=\"503\" height=\"561\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/7.-Create-Release-App-service-deployment.jpg 503w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/7.-Create-Release-App-service-deployment-269x300.jpg 269w\" sizes=\"(max-width: 503px) 100vw, 503px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"6\">\n<li>The <strong>Source<\/strong> will be figured out automatically.<\/li>\n<li>Click on <strong>Create<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7945\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7945 size-full\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/8.-Create-Release-Source.jpg\" alt=\"8. Create Release - Source\" width=\"508\" height=\"562\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/8.-Create-Release-Source.jpg 508w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/8.-Create-Release-Source-271x300.jpg 271w\" sizes=\"(max-width: 508px) 100vw, 508px\" \/><\/a><\/p>\n<p class=\"gray\">You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=vev3Czaa1pA\">this video<\/a><\/strong>, if you would like to find more information about a walkthrough introducing the Release Management and Build Automation using TFS 2017\/2015. Step by step about all process, starting from creating the project, check in the code in the source control, create a build definition and trigger the build, and also create a release pipeline.<\/p>\n<p class=\"gray\">Learn how to configure properly the build steps, including Copy Files and Publish Build Artifacts. See how to create new release definition, add environments and link to build definition. Afterwards see how to add tasks to the release definition, like Windows Machine File Copy and configure it properly.<\/p>\n<p>&nbsp;<\/p>\n<h2><a name=\"_Toc501551437\"><\/a>Step 3: Create an Azure Subscription<\/h2>\n<p>The deployment task will be created by default. Now, you need to create an endpoint subscription \u2013 the end point you want to deploy to.<\/p>\n<ol>\n<li>You will be automatically redirected to the <strong>Releases<\/strong> tab of your <strong>VSTS\u00a0<\/strong>portal.<\/li>\n<li>Click on <strong>Add<\/strong> in the <strong>Deploy Azure App Service<\/strong> area to create a new subscription. Based on the logged-in user, the system will automatically figure out the available subscriptions on <strong>Azure<\/strong>.<\/li>\n<li>Name your subscription.<\/li>\n<li>Click <strong>OK<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7956\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7956 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/9-10.-New-subscription-1-1024x556.jpg\" alt=\"9-10. New subscription\" width=\"760\" height=\"413\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/9-10.-New-subscription-1-1024x556.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/9-10.-New-subscription-1-300x163.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/9-10.-New-subscription-1-768x417.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/9-10.-New-subscription-1.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p>The end point is now created and you can continue with the task.<\/p>\n<h2><a name=\"_Toc501551438\"><\/a>Step 4: Deploy an application<\/h2>\n<p>All the applications from your <strong>Azure<\/strong> subscription will be available for deployment. In this tutorial we will simply choose an available application from the list; however, there are <strong>Additional Deployment Options<\/strong> available for advanced users. The application can be configured as a <strong>Web Deploy<\/strong>, additional <strong>SetParameters File<\/strong> can be set up, and the application can even be taken offline.\u00a0 For the simple scenario described in this tutorial, these additional parameters are not required.<\/p>\n<ol>\n<li>Pick a web application from <strong>App Service Name<\/strong> drop-down list. With this setting you are 100% ready to deploy.<\/li>\n<li>Now you need to create a new production environment. In this case we will simply <strong>Clone<\/strong> an environment. Click on the ellipsis <strong>\u00b7\u00b7\u00b7\u00a0<\/strong>symbol next to your existing Environment (&lt;<strong>Environment 1<\/strong>&gt; in our case).<\/li>\n<li>Click on <strong>Clone environment<\/strong>. This will be your production environment.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7957\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7957 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/11-12.-App-Service-Name-1024x557.jpg\" alt=\"11-12. App Service Name\" width=\"760\" height=\"413\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/11-12.-App-Service-Name-1024x557.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/11-12.-App-Service-Name-300x163.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/11-12.-App-Service-Name-768x418.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/11-12.-App-Service-Name.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"4\">\n<li>An <strong>Add new environment<\/strong> window will automatically opened.<\/li>\n<li>You can choose the desired parameters for the <strong>Pre-deployment approval<\/strong> and <strong>Trigger<\/strong>. In this case we will keep the default settings.<\/li>\n<li>Click on <strong>Create<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7935\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7935 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/13.-Add-new-environment-1024x558.jpg\" alt=\"13. Add new environment\" width=\"760\" height=\"414\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/13.-Add-new-environment-1024x558.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/13.-Add-new-environment-300x163.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/13.-Add-new-environment-768x419.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/13.-Add-new-environment.jpg 1279w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"7\">\n<li>In the <strong>Deploy Azure App Service<\/strong> section choose a subscription that you want to use for your production from the <strong>Azure RM subscriptions<\/strong> dropdown list. In this case we will choose &lt;<strong>AzureAppSub<\/strong>&gt;.<\/li>\n<li>Click on <strong>Save<\/strong>.<\/li>\n<li>Enter a <strong>Comment<\/strong> providing you with some information about the application.<\/li>\n<li>Click <strong>OK<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7958\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7958 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/14-15.-AzureRM-Subscription-1024x559.jpg\" alt=\"14-15. AzureRM Subscription\" width=\"760\" height=\"415\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/14-15.-AzureRM-Subscription-1024x559.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/14-15.-AzureRM-Subscription-300x164.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/14-15.-AzureRM-Subscription-768x419.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/14-15.-AzureRM-Subscription.jpg 1279w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p>The deployment process is now finished. <strong>Visual Studio RM<\/strong> has the best <strong>DevOps <\/strong>deployment experience for <strong>Azure<\/strong>. It provides with a single click <strong>Azure<\/strong> connection to deploy to <strong>Azure<\/strong>. Furthermore, you can deploy applications to <strong>Azure<\/strong> using <strong>Visual Studio Team Services Release Management<\/strong> portal and you can configure the continuous delivery from the <strong>Azure <\/strong>portal as well.<\/p>\n<h2><a name=\"_Toc501551439\"><\/a>Step 5: Configure continuous delivery from the Azure portal<\/h2>\n<p>Continuous delivery provides you with an automated way of building, testing and deploying to <strong>Azure<\/strong>. If needed, you can also configure manual approvals; therefore, continuous delivery essentially allows you to deploy with confidence.<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip<\/span> If you would like to learn more about Microsoft Dynamics development, including the overview of the Microsoft Dynamics CRM itself, installing Microsoft Dynamics 2016 on Azure VM and how to upgrade to Dynamics 365, how to develop Dynamics CRM plugin, how to debug Microsoft Dynamics CRM project, create and run unit tests using FakeXRMEasy and Microsoft Fakes, JavaScript and front end unit tests as well code quality using JSHint,<\/p>\n<h3 class=\"blue\">Also how to create and run UI and how to integrate all the practices as part of the CI\/CD (Continuous Integration and Continuous Delivery), &#8211; have a look at the <a href=\"https:\/\/mohamedradwan.com\/2018\/04\/04\/devops-for-microsoft-dynamics\/\"><strong>this post<\/strong><\/a><\/h3>\n<p>&nbsp;<\/p>\n<ol>\n<li>In the <strong>Azure<\/strong> portal your newly created application is already available. Open this application (in our case, the application is called &lt;<strong>Contoso portal<\/strong>&gt;).<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7938\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7938 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/16.-Azure-portal-1024x558.jpg\" alt=\"16. Azure portal\" width=\"760\" height=\"414\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/16.-Azure-portal-1024x558.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/16.-Azure-portal-300x164.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/16.-Azure-portal-768x419.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/16.-Azure-portal.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"2\">\n<li>You will see a new item in the portal called <strong>Continuous delivery<\/strong>. Click on it. Using this item you can configure continuous delivery for every <strong>Azure<\/strong> web application.<\/li>\n<li>Click <strong>Continue<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7939\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7939 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/17.-Continuous-delivery-1024x563.jpg\" alt=\"17. Continuous delivery\" width=\"760\" height=\"418\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/17.-Continuous-delivery-1024x563.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/17.-Continuous-delivery-300x165.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/17.-Continuous-delivery-768x422.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/17.-Continuous-delivery.jpg 1272w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"4\">\n<li>The first step of configuring a continuous deliver is to provide the source parameters where the <strong>Source Code<\/strong> is available. Click on <strong>Source Code<\/strong> to configure repository.<\/li>\n<li>There is support for <strong>Visual Studio Team Services<\/strong> and <strong>GitHub<\/strong>. For this demo we will choose <strong>Visual Studio Team Services<\/strong>.<\/li>\n<li>As soon as you choose <strong>VSTS<\/strong>, based on the logged in identity <strong>Azure<\/strong> will automatically show you all the accounts associated with your identity. Choose the <strong>Account<\/strong> where your source code is available; you will not be prompted to enter any username or password.<\/li>\n<li>Choose the <strong>Project<\/strong>, the <strong>Repository<\/strong> and the <strong>Branch<\/strong> from the automatically created lists.<\/li>\n<li>\n<h3>Click <strong>OK<\/strong>. The source code is now configured.<\/h3>\n<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7940\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7940 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/18.-Source-Code-1024x558.jpg\" alt=\"18. Source Code\" width=\"760\" height=\"414\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/18.-Source-Code-1024x558.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/18.-Source-Code-300x163.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/18.-Source-Code-768x418.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/18.-Source-Code.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"9\">\n<li>Set up the application framework type, used to generate the <strong>Build<\/strong>. Click on<strong> Build<\/strong>.<\/li>\n<li>Choose the <strong>Web Application Framework<\/strong>. In our case it is an <strong>net<\/strong> application.<\/li>\n<li>Click <strong>OK<\/strong>.<\/li>\n<li>If needed, you can configure the <strong>Test<\/strong> environment allowing you to add all the load testing targeting this application. For this tutorial we will skip this step.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7969\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7969 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/19.-Application-framework-1-1024x547.jpg\" alt=\"19. Application framework\" width=\"760\" height=\"406\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/19.-Application-framework-1-1024x547.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/19.-Application-framework-1-300x160.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/19.-Application-framework-1-768x410.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/19.-Application-framework-1.jpg 1281w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"13\">\n<li>The last step for continuous delivery configuration is publishing to production. We always recommend using <strong>Slots<\/strong>: deploying the application first to the <strong>Slot<\/strong>, and then swapping it to production. Click on <strong>Deploy<\/strong> to configure publishing to production.<\/li>\n<li>Create a <strong>Staging Environment<\/strong> by pressing <strong>Yes<\/strong> under <strong>Create staging environments<\/strong>.<\/li>\n<li>Within the environment you can make use of an already created <strong>Deployment Slot<\/strong>, or even create a new <strong>Slot<\/strong>. For this tutorial we will use an existing &lt;<strong>staging<\/strong>&gt; <strong>Slot<\/strong>.<\/li>\n<li>Click <strong>OK<\/strong>.<\/li>\n<li>Click <strong>OK<\/strong> in the Deployment Source section of the screen.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7942\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7942 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/20.-Deploy-1024x547.jpg\" alt=\"20. Deploy\" width=\"760\" height=\"406\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/20.-Deploy-1024x547.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/20.-Deploy-300x160.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/20.-Deploy-768x410.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/20.-Deploy.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<h3 class=\"gray\"><span class=\"ion-video\">\u00a0<\/span>You can see <strong><a href=\"https:\/\/www.youtube.com\/watch?v=I9OAqrAuJT4 \">this video<\/a><\/strong><\/h3>\n<p class=\"gray\">If you would like to find more information about the new tools and enhancements for Continuous Delivery (CD) and DevOps with Visual Studio 2017. See how to download and initiate the Continuous Delivery Tools for Visual Studio extension, create a new team project on VSTS or connect to an existing project.<\/p>\n<p class=\"gray\">Clone a project to a local Git repository, create a simple web application, and finally how to configure the CD extension, allowing you to create a Build definition, run that Build, trigger a Release and complete app deployment to the cloud. The process of making changes to the CD and DevOps pipeline is also demonstrated, as well as managing Build failures with the help of the described extension.<\/p>\n<p>&nbsp;<\/p>\n<h2><a name=\"_Toc501551440\"><\/a>Step 6: Check the results<\/h2>\n<p>Your <strong>Build definition<\/strong> and your <strong>Release definition<\/strong> are now completely configured for doing automated deployments to your <strong>Azure<\/strong> web application.<\/p>\n<ol>\n<li>Once the deployment is configured completely you can see the <strong>Build definitions, Release definitions<\/strong> and <strong>Release details<\/strong>.<\/li>\n<li>We will check the result of configuring the <strong>Release definition.<\/strong> Click on <strong>Release definitions<\/strong>.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7943\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7943 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/21.-Release-definition-1024x557.jpg\" alt=\"21. Release definition\" width=\"760\" height=\"413\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/21.-Release-definition-1024x557.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/21.-Release-definition-300x163.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/21.-Release-definition-768x418.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/21.-Release-definition.jpg 1282w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<ol start=\"3\">\n<li>A new tab will open with the <strong>Release definition<\/strong> that just got created based on the performed configuration. The <strong>Build<\/strong> link is available, where you can see the <strong>Build<\/strong>, the code and the work items that got added.<\/li>\n<\/ol>\n<p>&nbsp;<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/?attachment_id=7944\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone wp-image-7944 size-large\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/22.-Release-definition-opened-1024x382.jpg\" alt=\"22. Release definition opened\" width=\"760\" height=\"284\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/22.-Release-definition-opened-1024x382.jpg 1024w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/22.-Release-definition-opened-300x112.jpg 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/22.-Release-definition-opened-768x287.jpg 768w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2017\/12\/22.-Release-definition-opened.jpg 1280w\" sizes=\"(max-width: 760px) 100vw, 760px\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<h2><a name=\"_Toc501551441\"><\/a>Conclusion<\/h2>\n<p>This tutorial has demonstrated how to configure and deploy to <strong>Azure<\/strong> in <strong>Release Management<\/strong>, and how to configure an end-to-end pipeline for deploying applications on <strong>Azure<\/strong>. <strong>Visual Studio Team Services<\/strong> have the best <strong>Integration Story<\/strong> for <strong>DevOps<\/strong> deployment between <strong>Azure<\/strong> and <strong>Release Management.<\/strong><\/p>\n<p><strong>\u00a0<\/strong><\/p>\n<p>If you have not used <strong>Release Management<\/strong>, &#8211; you can give it a try for free by creating a <strong>Visual Studio Team Services<\/strong> account.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Introduction \u00a01: Create a new Build definition \u00a02: Create a &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2018\/02\/12\/how-to-deploy-to-azure-using-team-services-release-management\/\"> <span class=\"screen-reader-text\">How to deploy to Azure using Team Services Release Management<\/span> Read More<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[15,17,836,23,834],"tags":[60,70,99,163,205,882,844],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/7921"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=7921"}],"version-history":[{"count":7,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/7921\/revisions"}],"predecessor-version":[{"id":9572,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/7921\/revisions\/9572"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=7921"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=7921"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=7921"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}