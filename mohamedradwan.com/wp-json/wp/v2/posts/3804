{"id":3804,"date":"2013-01-15T23:45:27","date_gmt":"2013-01-15T23:45:27","guid":{"rendered":"https:\/\/mohamedradwan.com\/?p=3803"},"modified":"2019-08-13T17:04:34","modified_gmt":"2019-08-13T17:04:34","slug":"understanding-build-controller-and-build-agent-for-tfs-team-foundation-server","status":"publish","type":"post","link":"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/","title":{"rendered":"Understanding Build Controller and Build Agent for TFS (Team Foundation Server)"},"content":{"rendered":"<p>In this post I will slightly explain the <strong>Build Controller<\/strong>\u00a0and the <strong>Build Agent<\/strong>.<\/p>\n<p>The following is step-by-step video for the post.<\/p>\n<p>[youtube=http:\/\/youtu.be\/K9s11aLPPgI]<\/p>\n<p>&nbsp;<\/p>\n<p>Build Service is a Windows Service that can only has one <strong>Build Controller<\/strong>, configured for only one <strong>Team Project Collection<\/strong> and has multiple <strong>Build Agents<\/strong> as needed, of course there is a workaround to have multiple <strong>Build Controller<\/strong> on the same machine but this is not recommended in production environment, for more info see,\u00a0<a title=\"Configuring Multiple TFS Build Controller on the Same Machine\" href=\"https:\/\/mohamedradwan.com\/2013\/01\/16\/configuring-multiple-tfs-build-controller-on-the-same-machine\/\" target=\"_blank\" rel=\"noopener noreferrer\">Configuring Multiple TFS Build Controller on the Same Machine<\/a>.\u00a0<a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/1-build-service-resources-3\/#main\" rel=\"attachment wp-att-3842\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3842\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/1-build-service-resources-3-1.jpg?w=660\" alt=\"1-Build-Service-resources-3\" width=\"660\" height=\"464\" \/><\/a><\/p>\n<p>Only one <strong>Build Controller<\/strong> can exist on the same machine, we can have <strong>Build Controller<\/strong> running with the TFS AT (<strong>Team Foundation Server Application Tier<\/strong>) but the <strong>Build Agent<\/strong> not recommended to be exist on the TFS AT, this because the <strong>Build Agent<\/strong> doing intensive work and we don&#8217;t want to slow down our TFS AT.<a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/2-build-controllers-and-build-agents-3\/#main\" rel=\"attachment wp-att-3843\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3843\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/2-build-controllers-and-build-agents-3-1.jpg?w=660\" alt=\"2-Build-Controllers-and-Build-Agents-3\" width=\"660\" height=\"434\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"green\"><span class=\"ion-info\">Tip (<a href=\"https:\/\/mohamedradwan.com\/2019\/05\/31\/mastering-git-from-beginner-to-advanced-step-by-step-with-graphical-animation-commands\/\"><strong>Mastering Git with animation<\/strong>) <\/a><\/span> For more information about how to work with <strong>Git<\/strong> with animation. All commands will be represented in graphical animation. E.g. git branch, git merge, git rebase, git cherry-pick and many others, see <strong><a href=\"https:\/\/mohamedradwan.com\/2019\/05\/31\/mastering-git-from-beginner-to-advanced-step-by-step-with-graphical-animation-commands\/\"> Mastering Git with animation<\/a><\/strong><\/p>\n<p>&nbsp;<\/p>\n<div class=\"ast-oembed-container\" style=\"height: 100%;\"><iframe loading=\"lazy\" title=\"Mastering Git From Beginner to Advanced Step by Step With Graphical Animation Commands\" width=\"500\" height=\"281\" src=\"https:\/\/www.youtube.com\/embed\/ZgCCnv9LxzA?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen><\/iframe><\/div>\n<p>Example of Build Server that has one <strong>Build Controller<\/strong>, configured for one <strong>Project Collection<\/strong> and has multiple <strong>Build Agents<\/strong>.<a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/3-build-service-example-3\/#main\" rel=\"attachment wp-att-3844\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3844\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/3-build-service-example-3-1.jpg?w=660\" alt=\"3-Build-Service-example-3\" width=\"660\" height=\"372\" \/><\/a><a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/4-build-service-one-controller-multi-agents\/#main\" rel=\"attachment wp-att-3808\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3808\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/4-build-service-one-controller-multi-agents.png?w=660\" alt=\"4-Build-Service-one-controller-multi-agents\" width=\"660\" height=\"435\" srcset=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/4-build-service-one-controller-multi-agents.png 982w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/4-build-service-one-controller-multi-agents-300x198.png 300w, https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/4-build-service-one-controller-multi-agents-768x507.png 768w\" sizes=\"(max-width: 660px) 100vw, 660px\" \/><\/a><\/p>\n<p>Removing the build configuration so we can reconfigure and see the number of recommended <strong>Build Agents<\/strong> and the <strong>Windows Service<\/strong>.<a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/5-remove-build-configuation\/#main\" rel=\"attachment wp-att-3809\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3809\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/5-remove-build-configuation-1.png?w=660\" alt=\"5-Remove-Build-configuation\" width=\"660\" height=\"437\" \/><\/a><\/p>\n<p>If the Build is not configured we can see that there is no Windows Service.<a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/6-build-service-not-exist-before-configure-build-service-on-tfs\/#main\" rel=\"attachment wp-att-3810\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3810\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/6-build-service-not-exist-before-configure-build-service-on-tfs-1.png?w=660\" alt=\"6-Build-Service-not-exist-before-configure-build-service-on-tfs\" width=\"660\" height=\"436\" \/><\/a><\/p>\n<p>The Windows Service for the build exist if the build is configured (Registered).<a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/7-build-service-exist-after-configure-build-on-tfs\/#main\" rel=\"attachment wp-att-3811\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3811\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/7-build-service-exist-after-configure-build-on-tfs-1.png?w=660\" alt=\"7-Build-Service-exist-after-configure-build-on-tfs\" width=\"660\" height=\"627\" \/><\/a><\/p>\n<p>When the processor is (1) processor, the available <strong>Build Agent<\/strong> is (2) and the recommended is (1).<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/8-number-of-build-agents-is-depend-on-number-of-processors-2\/#main\" rel=\"attachment wp-att-3812\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3812\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/8-number-of-build-agents-is-depend-on-number-of-processors-2-1.png?w=546\" alt=\"8-Number-of-build-agents-is-depend-on-number-of-processors-2\" width=\"546\" height=\"660\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip (<strong><a href=\" https:\/\/mohamedradwan.com\/2019\/06\/08\/getting-started-with-kubernetes-cluster-ci-cd-for-azure-kubernetes-service\/ \"> Kubernetes cluster for beginner <\/a>)<\/strong><\/span> For more information about how to work with Kubernetes cluster and deploy it to <strong>Azure Kubernetes Service (AKS) <\/strong>and work with <strong>Azure Container Registry<\/strong>, see <strong><a href=\" https:\/\/mohamedradwan.com\/2019\/06\/08\/getting-started-with-kubernetes-cluster-ci-cd-for-azure-kubernetes-service\/ \">Kubernetes cluster for beginner<\/a><\/strong><\/p>\n<p>&nbsp;<\/p>\n<div class=\"ast-oembed-container\" style=\"height: 100%;\"><iframe loading=\"lazy\" title=\"Deploy Docker image to Kubernetes Cluster | CI-CD for Azure Kubernetes Service\" width=\"500\" height=\"281\" src=\"https:\/\/www.youtube.com\/embed\/4DUhc0MjdUc?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen><\/iframe><\/div>\n<p>&nbsp;<\/p>\n<p>When the processor is (4) processor, the available <strong>Build Agent<\/strong> is (8) and the recommended is (1).<\/p>\n<p><a href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/9-number-of-build-agents-is-depend-on-number-of-processors-1\/#main\" rel=\"attachment wp-att-3813\"><img loading=\"lazy\" decoding=\"async\" class=\"alignnone size-large wp-image-3813\" src=\"https:\/\/mohamedradwan.com\/wp-content\/uploads\/2013\/01\/9-number-of-build-agents-is-depend-on-number-of-processors-1-1.png?w=539\" alt=\"9-Number-of-build-agents-is-depend-on-number-of-processors-1\" width=\"539\" height=\"660\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p class=\"blue\"><span class=\"ion-tip\">Tip (<strong><a href=\"https:\/\/mohamedradwan.com\/2019\/05\/31\/docker-for-beginners-step-by-step-tutorial\/\">Docker for beginners<\/a>)<\/strong><\/span> For more information about how to work with <strong>Docker<\/strong> like, pull docker image, run docker image and work with container, see <strong><a href=\"https:\/\/mohamedradwan.com\/2019\/05\/31\/docker-for-beginners-step-by-step-tutorial\/\"> Docker for beginners <\/a><\/strong><\/p>\n<p>&nbsp;<\/p>\n<div class=\"ast-oembed-container\" style=\"height: 100%;\"><iframe loading=\"lazy\" title=\"Docker For Beginners Step by Step Tutorial\" width=\"500\" height=\"281\" src=\"https:\/\/www.youtube.com\/embed\/3RJv6yVfaRE?feature=oembed\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen><\/iframe><\/div>\n<p>Links:<\/p>\n<p><a title=\"Scale out Your Build System \" href=\"http:\/\/msdn.microsoft.com\/library\/dd793166.aspx\" target=\"_blank\" rel=\"noopener noreferrer\">Scale out Your Build System\u00a0<\/a><\/p>\n","protected":false},"excerpt":{"rendered":"<p>In this post I will slightly explain the Build Controller\u00a0and &hellip;<\/p>\n<p class=\"read-more\"> <a class=\"ast-button\" href=\"https:\/\/mohamedradwan.com\/2013\/01\/15\/understanding-build-controller-and-build-agent-for-tfs-team-foundation-server\/\"> <span class=\"screen-reader-text\">Understanding Build Controller and Build Agent for TFS (Team Foundation Server)<\/span> Read More<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"site-sidebar-layout":"default","site-content-layout":"default","ast-global-header-display":"","ast-banner-title-visibility":"","ast-main-header-display":"","ast-hfb-above-header-display":"","ast-hfb-below-header-display":"","ast-hfb-mobile-header-display":"","site-post-title":"","ast-breadcrumbs-content":"","ast-featured-img":"","footer-sml-layout":"","theme-transparent-header-meta":"","adv-header-id-meta":"","stick-header-meta":"","header-above-stick-meta":"","header-main-stick-meta":"","header-below-stick-meta":"","footnotes":""},"categories":[16,17,28,42],"tags":[],"_links":{"self":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/3804"}],"collection":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/comments?post=3804"}],"version-history":[{"count":4,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/3804\/revisions"}],"predecessor-version":[{"id":9697,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/posts\/3804\/revisions\/9697"}],"wp:attachment":[{"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/media?parent=3804"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/categories?post=3804"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/mohamedradwan.com\/wp-json\/wp\/v2\/tags?post=3804"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}